{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/concept/fury-client/src/views/home/other/PartyGames.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/src/views/home/other/PartyGames.vue","mtime":1716285007716},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1leGNlcHRpb24uc3RhY2suanMiOwppbXBvcnQgZGF0YUNlbnRlciBmcm9tICdAL2RhdGFDZW50ZXInOwppbXBvcnQgeyBsYW5nIH0gZnJvbSAnQC9sYW5nJzsKaW1wb3J0IHsgZ2V0Um91dGVyLCBvcGVuTW9kYWwgfSBmcm9tICdAL21hbmFnZXIvdmlldyc7CmltcG9ydCB7IGlzUGhvbmUgfSBmcm9tICdAL3V0aWxzJzsKaW1wb3J0IENoYXRzTG9kZGluZyBmcm9tICdAL3ZpZXdzL2NoYXRzL0NoYXRzTG9kZGluZy52dWUnOwppbXBvcnQgcGxheUJ1dHRvbiBmcm9tICdAL3ZpZXdzL2hvbWUvaGVhZC9wb3B1cC93YWxsZXRTaXgvaGVhZEJ1dHRvblBvcC52dWUnOwppbXBvcnQgTG9naW5XaWRnZXQgZnJvbSAnQC92aWV3cy9ob21lL2xvZ2luL0xvZ2luLnZ1ZSc7CmltcG9ydCBQR1F1aXQgZnJvbSAnQC92aWV3cy9ob21lL290aGVyL3dpZGdldC9QR1F1aXQudnVlJzsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50LCByZWYsIHdhdGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgdXNlUm91dGUgfSBmcm9tICd2dWUtcm91dGVyJzsKaW1wb3J0IHsgdXNlciB9IGZyb20gJ0AvZGF0YUNlbnRlci91c2VyJzsKaW1wb3J0IEZlZWRiYWNrQnV0dG9uIGZyb20gJy4uL2Nhc2luby9hYm91dC9GZWVkYmFja0J1dHRvbi52dWUnOwppbXBvcnQgeyBnYW1lTG9naW4gfSBmcm9tICcuLi9hcGknOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGNvbXBvbmVudHM6IHsKICAgIHBsYXlCdXR0b24sCiAgICBDaGF0c0xvZGRpbmcsCiAgICBQR1F1aXQsCiAgICBGZWVkYmFja0J1dHRvbgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxhbmcsCiAgICAgIHVzZXI6IGRhdGFDZW50ZXIudXNlcgogICAgfTsKICB9LAogIHNldHVwKCkgewogICAgY29uc3QgaWZyYW1lTG9hZGVkID0gcmVmKGZhbHNlKTsKICAgIGNvbnN0IGlmcmFtZVVybCA9IHJlZignJyk7CiAgICBjb25zdCBpZnJhbWVIdG1sID0gcmVmKCcnKTsKICAgIGNvbnN0IHJvdXRlID0gdXNlUm91dGUoKTsKICAgIGNvbnN0IGdhbWVJZCA9IHJvdXRlLnF1ZXJ5LmlkOwogICAgY29uc3QgZ3JvdXBJZCA9IHJvdXRlLnF1ZXJ5Lmdyb3VwSWQ7CiAgICBjb25zdCBnYW1lVHlwZSA9IHJlZigpOwogICAgbGV0IGxhbmdlID0gcm91dGUucXVlcnkubGFuZ2U7CiAgICBjb25zdCBpc1Jlc3RhcnQgPSByZWYoZmFsc2UpOwogICAgZnVuY3Rpb24gbG9hZEdhbWUobGFuZ2VJdGVtKSB7CiAgICAgIGNvbnN0IGV4dHJhUGFyYW1zID0gcm91dGUucXVlcnkuZ2FtZVVybDsKICAgICAgZ2FtZUxvZ2luKGdhbWVJZCwgbGFuZ2UpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKCFyZXNwKSByZXR1cm47CiAgICAgICAgZ2FtZVR5cGUudmFsdWUgPSByZXNwLnR5cGU7CiAgICAgICAgc3dpdGNoIChyZXNwLnR5cGUpIHsKICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgaWZyYW1lVXJsLnZhbHVlID0gcmVzcC5tc2c7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAxOgogICAgICAgICAgICBpZnJhbWVIdG1sLnZhbHVlID0gcmVzcC5tc2c7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICB7CiAgICAgICAgICAgICAgY29uc3QgZGV2aWNlID0gaXNQaG9uZSgpID8gJ20nIDogJ2QnOwogICAgICAgICAgICAgIGlmIChyZXNwLm1zZy5pbmNsdWRlcygnPycpKSB7CiAgICAgICAgICAgICAgICBpZnJhbWVVcmwudmFsdWUgPSBgaHR0cHM6JHtyZXNwLm1zZ30mbGFuZz0ke2xhbmdlSXRlbX0mZGV2aWNlPSR7ZGV2aWNlfSR7YXRvYihleHRyYVBhcmFtcyB8fCAnJyl9YDsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgaWZyYW1lVXJsLnZhbHVlID0gYGh0dHBzOiR7cmVzcC5tc2d9P2xhbmc9JHtsYW5nZUl0ZW19JmRldmljZT0ke2RldmljZX0ke2F0b2IoZXh0cmFQYXJhbXMgfHwgJycpfWA7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgfQogICAgICAgIGlmcmFtZUxvYWRlZC52YWx1ZSA9IHRydWU7CiAgICAgIH0pOwogICAgfQogICAgaWYgKGdhbWVJZCkgewogICAgICBpZiAoZGF0YUNlbnRlci51c2VyLmRhdGEpIHsKICAgICAgICBsb2FkR2FtZShsYW5nZSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgd2F0Y2goKCkgPT4gZGF0YUNlbnRlci51c2VyLCB1c2VyID0+IHsKICAgICAgICAgIGlmICh1c2VyLmRhdGEpIHsKICAgICAgICAgICAgbG9hZEdhbWUobGFuZ2UpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiBwbGF5R2FtZUlmcmFtZSgpIHsKICAgICAgaWYgKGRhdGFDZW50ZXIudXNlci5kYXRhKSB7CiAgICAgICAgaWZyYW1lTG9hZGVkLnZhbHVlID0gdHJ1ZTsKICAgICAgfSBlbHNlIHsKICAgICAgICBvcGVuTW9kYWwoTG9naW5XaWRnZXQpOwogICAgICB9CiAgICB9CiAgICBmdW5jdGlvbiByZXN0YXJ0KCkgewogICAgICBpc1Jlc3RhcnQudmFsdWUgPSBmYWxzZTsKICAgICAgbG9hZEdhbWUobGFuZ2UpOwogICAgfQogICAgd2F0Y2goKCkgPT4gbGFuZy5tLCAobmV3TGFuZywgb2xkTGFuZykgPT4gewogICAgICBpZiAobmV3TGFuZyAhPT0gb2xkTGFuZykgewogICAgICAgIGxvYWRHYW1lKG5ld0xhbmcpOwogICAgICAgIGxvY2F0aW9uLnJlbG9hZCgpOwogICAgICB9CiAgICB9KTsKICAgIHdhdGNoKCgpID0+IGRhdGFDZW50ZXIudXNlci5kYXRhLCAoKSA9PiB7CiAgICAgIGlmICh1c2VyLmRhdGEpIHsKICAgICAgICBnZXRSb3V0ZXIoKS5nbygtMSk7CiAgICAgICAgLy8gbG9hZEdhbWUobGFuZ2UpOwogICAgICB9CiAgICB9KTsKCiAgICByZXR1cm4gewogICAgICBpZnJhbWVMb2FkZWQsCiAgICAgIGlmcmFtZVVybCwKICAgICAgaWZyYW1lSHRtbCwKICAgICAgcGxheUdhbWVJZnJhbWUsCiAgICAgIGdhbWVJZCwKICAgICAgaXNQaG9uZSwKICAgICAgcmVzdGFydCwKICAgICAgaXNSZXN0YXJ0LAogICAgICBnYW1lVHlwZQogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZSgpIHsKICAgIGRhdGFDZW50ZXIuZ2FtZUNvbmZpZ3VyYXRpb24uZ2FtZUlkID0gcGFyc2VJbnQodGhpcy5nYW1lSWQpOwogIH0sCiAgYmVmb3JlVW5tb3VudCgpIHsKICAgIGRhdGFDZW50ZXIuZ2FtZUNvbmZpZ3VyYXRpb24uZ2FtZUlkID0gMDsKICB9Cn0pOw=="},{"version":3,"names":["dataCenter","lang","getRouter","openModal","isPhone","ChatsLodding","playButton","LoginWidget","PGQuit","defineComponent","ref","watch","useRoute","user","FeedbackButton","gameLogin","components","data","setup","iframeLoaded","iframeUrl","iframeHtml","route","gameId","query","id","groupId","gameType","lange","isRestart","loadGame","langeItem","extraParams","gameUrl","then","resp","value","type","msg","device","includes","atob","playGameIframe","restart","m","newLang","oldLang","location","reload","go","beforeCreate","gameConfiguration","parseInt","beforeUnmount"],"sources":["/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/concept/fury-client/src/views/home/other/PartyGames.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport dataCenter from '@/dataCenter';\nimport { falsePG, loginGame } from '@/games';\nimport { lang } from '@/lang';\nimport { getRouter, openModal } from '@/manager/view';\nimport { isPhone } from '@/utils';\nimport ChatsLodding from '@/views/chats/ChatsLodding.vue';\nimport playButton from '@/views/home/head/popup/walletSix/headButtonPop.vue';\nimport LoginWidget from '@/views/home/login/Login.vue';\nimport PGQuit from '@/views/home/other/widget/PGQuit.vue';\nimport QueryString from 'qs';\nimport { defineComponent, ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { user } from '@/dataCenter/user';\nimport FeedbackButton from '../casino/about/FeedbackButton.vue';\nimport { tip } from '@/components/warn/warn';\nimport { gameLogin, pgLoginGame, ppLoginGame } from '../api';\nexport default defineComponent({\n  components: {\n    playButton,\n    ChatsLodding,\n    PGQuit,\n    FeedbackButton,\n  },\n  data() {\n    return {\n      lang,\n      user: dataCenter.user,\n    };\n  },\n  setup() {\n    const iframeLoaded = ref(false);\n    const iframeUrl = ref('');\n    const iframeHtml = ref('');\n    const route = useRoute();\n    const gameId = route.query.id as string;\n    const groupId = route.query.groupId as string;\n    const gameType = ref<number>();\n    let lange = route.query.lange as string;\n    const isRestart = ref(false);\n    function loadGame(langeItem: string) {\n      const extraParams = route.query.gameUrl as string;\n      gameLogin(gameId, lange).then((resp) => {\n        if (!resp) return;\n\n        gameType.value = resp.type;\n        switch (resp.type) {\n          case 0:\n            iframeUrl.value = resp.msg;\n            break;\n          case 1:\n            iframeHtml.value = resp.msg;\n            break;\n          case 2:\n            {\n              const device = isPhone() ? 'm' : 'd';\n              if (resp.msg.includes('?')) {\n                iframeUrl.value = `https:${\n                  resp.msg\n                }&lang=${langeItem}&device=${device}${atob(extraParams || '')}`;\n              } else {\n                iframeUrl.value = `https:${\n                  resp.msg\n                }?lang=${langeItem}&device=${device}${atob(extraParams || '')}`;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n        iframeLoaded.value = true;\n      });\n    }\n    if (gameId) {\n      if (dataCenter.user.data) {\n        loadGame(lange);\n      } else {\n        watch(\n          () => dataCenter.user,\n          (user) => {\n            if (user.data) {\n              loadGame(lange);\n            }\n          },\n        );\n      }\n    }\n\n    function playGameIframe() {\n      if (dataCenter.user.data) {\n        iframeLoaded.value = true;\n      } else {\n        openModal(LoginWidget);\n      }\n    }\n    function restart() {\n      isRestart.value = false;\n      loadGame(lange);\n    }\n\n    watch(\n      () => lang.m,\n      (newLang, oldLang) => {\n        if (newLang !== oldLang) {\n          loadGame(newLang);\n          location.reload();\n        }\n      },\n    );\n    watch(\n      () => dataCenter.user.data,\n      () => {\n        if (user.data) {\n          getRouter().go(-1);\n          // loadGame(lange);\n        }\n      },\n    );\n\n    return {\n      iframeLoaded,\n      iframeUrl,\n      iframeHtml,\n      playGameIframe,\n      gameId,\n      isPhone,\n      restart,\n      isRestart,\n      gameType,\n    };\n  },\n  beforeCreate() {\n    dataCenter.gameConfiguration.gameId = parseInt(this.gameId);\n  },\n  beforeUnmount() {\n    dataCenter.gameConfiguration.gameId = 0;\n  },\n});\n"],"mappings":"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"}]}