{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/games/methods.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/games/methods.ts","mtime":1716171553011},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRhdGFDZW50ZXIgZnJvbSAnQC9kYXRhQ2VudGVyJzsKaW1wb3J0IHsgZm9ybWF0TW9uZXkgfSBmcm9tICdAL3V0aWxzL2N1cnJlbmN5JzsKY29uc3QgbWluID0gZGF0YUNlbnRlci53ZWJDb25maWcubWluOwpleHBvcnQgZnVuY3Rpb24gZ2FtZUhhbmRsZUlucHV0KGlucHV0LCBldmVudCkgewogIGlmIChldmVudCBpbnN0YW5jZW9mIElucHV0RXZlbnQpIHsKICAgIGlmIChldmVudC5pbnB1dFR5cGUgJiYgZXZlbnQuaW5wdXRUeXBlID09PSAnZGVsZXRlQ29udGVudEJhY2t3YXJkJykgewogICAgICByZXR1cm4gaW5wdXQ7CiAgICB9CiAgfQogIGxldCB0ZXh0ID0gaW5wdXQucmVwbGFjZSgvW14wLTkuXS9nLCAnJyk7CiAgLy/liKTor7vnrKzkuIDkvY3mmK/lkKbkuLowCiAgaWYgKHRleHQubGVuZ3RoID4gMSAmJiB0ZXh0LnN0YXJ0c1dpdGgoJzAnKSAmJiB0ZXh0WzFdICE9PSAnLicpIHsKICAgIHRleHQgPSB0ZXh0LnN1YnN0cmluZygxKTsKICB9CiAgLy8g5qOA5p+l5bCP5pWw54K55ZCO6Z2i55qE5pWw5a2X5piv5ZCm6LaF6L+H5Lik5L2N77yM5bm26L+b6KGM5L+u5q2jCiAgaWYgKHRleHQuaW5jbHVkZXMoJy4nKSkgewogICAgY29uc3QgcGFydHMgPSB0ZXh0LnNwbGl0KCcuJyk7CiAgICAvLyDlpoLmnpzlsI/mlbDngrnlkI7nmoTpg6jliIbotoXov4fkuKTkvY3mlbDlrZfvvIzliJnkv67mraPkuLrkuKTkvY0KICAgIGlmIChwYXJ0c1sxXS5sZW5ndGggPiAyKSB7CiAgICAgIHBhcnRzWzFdID0gcGFydHNbMV0uc3Vic3RyaW5nKDAsIDIpOwogICAgICB0ZXh0ID0gcGFydHMuam9pbignLicpOwogICAgfQogIH0KICBpZiAocGFyc2VJbnQodGV4dFsyXSkgPCA0ICYmIHRleHRbMF0gPT09ICcwJykgewogICAgcmV0dXJuIGFtb3VudE1pbigpOwogIH0KICBpZiAoTnVtYmVyKHRleHQpID4gZGF0YUNlbnRlci53YWxsZXQuZ2V0QmFsYW5jZSgpKSB7CiAgICByZXR1cm4gYW1vdW50TWF4KCk7CiAgfQogIHJldHVybiB0ZXh0Owp9CmV4cG9ydCBmdW5jdGlvbiBhbW91bnRNaW4oKSB7CiAgY29uc3QgY3VycmVuY3kgPSBkYXRhQ2VudGVyLndhbGxldC5nZXRTZWxlY3RlZEN1cnJlbmN5KCk7CiAgY29uc3QgYmFsYW5jZSA9IGRhdGFDZW50ZXIud2FsbGV0LmdldEJhbGFuY2UoKTsKICBpZiAoYmFsYW5jZSA+PSBtaW4pIHsKICAgIHJldHVybiBmb3JtYXRNb25leShtaW4sIGN1cnJlbmN5KTsKICB9IGVsc2UgewogICAgcmV0dXJuIGZvcm1hdE1vbmV5KDAuMCwgY3VycmVuY3kpOwogIH0KfQpleHBvcnQgZnVuY3Rpb24gYW1vdW50TWF4KCkgewogIGNvbnN0IGN1cnJlbmN5ID0gZGF0YUNlbnRlci53YWxsZXQuZ2V0U2VsZWN0ZWRDdXJyZW5jeSgpOwogIGNvbnN0IGJhbGFuY2UgPSBkYXRhQ2VudGVyLndhbGxldC5nZXRCYWxhbmNlKCk7CiAgaWYgKGJhbGFuY2UgPj0gbWluKSB7CiAgICByZXR1cm4gZm9ybWF0TW9uZXkoYmFsYW5jZSwgY3VycmVuY3kpOwogIH0gZWxzZSB7CiAgICByZXR1cm4gZm9ybWF0TW9uZXkoMC4wLCBjdXJyZW5jeSk7CiAgfQp9CmV4cG9ydCBmdW5jdGlvbiBnYW1lQmV0dGluZ0Ftb3VudChtYWduaWZpY2F0aW9uLCBiZXR0aW5nQW1vdW50KSB7CiAgY29uc3QgY291bnQgPSBOdW1iZXIoYmV0dGluZ0Ftb3VudCkgKiBtYWduaWZpY2F0aW9uOwogIHJldHVybiBnYW1lSGFuZGxlSW5wdXQoU3RyaW5nKGNvdW50KSk7Cn0KLy/ph5Hpop3ng63plK4KZXhwb3J0IGZ1bmN0aW9uIEFtb250S2V5RG93bihldmVudCwgaW5wdXQpIHsKICBpZiAoZGF0YUNlbnRlci5nYW1lQ29uZmlndXJhdGlvbi5Ib3RrZXlFbmFibGVkKSB7CiAgICBjb25zdCBpc0FQcmVzc2VkID0gZXZlbnQua2V5ID09PSAnYSc7CiAgICBjb25zdCBpc0RQcmVzc2VkID0gZXZlbnQua2V5ID09PSAnZCc7CiAgICBjb25zdCBpc1NQcmVzc2VkID0gZXZlbnQua2V5ID09PSAncyc7CiAgICAvLyDlpITnkIbng63plK7op6blj5HlkI7nmoTpgLvovpEKICAgIGlmIChpc0FQcmVzc2VkKSB7CiAgICAgIHJldHVybiBhbW91bnRNaW4oKTsKICAgIH0KICAgIGlmIChpc0RQcmVzc2VkKSB7CiAgICAgIHJldHVybiBnYW1lQmV0dGluZ0Ftb3VudCgyLCBpbnB1dCk7CiAgICB9CiAgICBpZiAoaXNTUHJlc3NlZCkgewogICAgICByZXR1cm4gZ2FtZUJldHRpbmdBbW91bnQoMiwgaW5wdXQpOwogICAgfQogIH0KICByZXR1cm4gaW5wdXQ7Cn0KLy/ph5Hpop3ntK/liqAKZXhwb3J0IGZ1bmN0aW9uIGFtb3VudEFkZChiZXQsIGFkZFZhbHVlKSB7CiAgbGV0IGFtb3VudCA9IGZvcm1hdE1vbmV5KE51bWJlcihiZXQpICogKDEgKyBOdW1iZXIoYWRkVmFsdWUpICogMC4wMSksIGRhdGFDZW50ZXIud2FsbGV0LmdldFNlbGVjdGVkQ3VycmVuY3koKSk7CiAgY29uc3QgbWF4ID0gYW1vdW50TWF4KCk7CiAgY29uc3QgbWluID0gYW1vdW50TWluKCk7CiAgaWYgKGFtb3VudCA+IG1heCkgewogICAgYW1vdW50ID0gbWF4OwogIH0gZWxzZSBpZiAoYW1vdW50IDwgbWluKSB7CiAgICBhbW91bnQgPSBtaW47CiAgfQogIHJldHVybiBhbW91bnQ7Cn0="},{"version":3,"names":["dataCenter","formatMoney","min","webConfig","gameHandleInput","input","event","InputEvent","inputType","text","replace","length","startsWith","substring","includes","parts","split","join","parseInt","amountMin","Number","wallet","getBalance","amountMax","currency","getSelectedCurrency","balance","gameBettingAmount","magnification","bettingAmount","count","String","AmontKeyDown","gameConfiguration","HotkeyEnabled","isAPressed","key","isDPressed","isSPressed","amountAdd","bet","addValue","amount","max"],"sources":["/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/games/methods.ts"],"sourcesContent":["import dataCenter from '@/dataCenter';\nimport { formatMoney } from '@/utils/currency';\n\nconst min = dataCenter.webConfig.min;\nexport function gameHandleInput(input: string, event?: Event): string {\n  if (event instanceof InputEvent) {\n    if (event.inputType && event.inputType === 'deleteContentBackward') {\n      return input;\n    }\n  }\n  let text = input.replace(/[^0-9.]/g, '');\n  //判读第一位是否为0\n  if (text.length > 1 && text.startsWith('0') && text[1] !== '.') {\n    text = text.substring(1);\n  }\n  // 检查小数点后面的数字是否超过两位，并进行修正\n  if (text.includes('.')) {\n    const parts = text.split('.');\n    // 如果小数点后的部分超过两位数字，则修正为两位\n    if (parts[1].length > 2) {\n      parts[1] = parts[1].substring(0, 2);\n      text = parts.join('.');\n    }\n  }\n  if (parseInt(text[2]) < 4 && text[0] === '0') {\n    return amountMin();\n  }\n  if (Number(text) > dataCenter.wallet.getBalance()) {\n    return amountMax();\n  }\n  return text;\n}\nexport function amountMin() {\n  const currency = dataCenter.wallet.getSelectedCurrency();\n  const balance = dataCenter.wallet.getBalance();\n  if (balance >= min) {\n    return formatMoney(min, currency);\n  } else {\n    return formatMoney(0.0, currency);\n  }\n}\nexport function amountMax() {\n  const currency = dataCenter.wallet.getSelectedCurrency();\n  const balance = dataCenter.wallet.getBalance();\n  if (balance >= min) {\n    return formatMoney(balance, currency);\n  } else {\n    return formatMoney(0.0, currency);\n  }\n}\n\nexport function gameBettingAmount(\n  magnification: number,\n  bettingAmount: string,\n): string {\n  const count = Number(bettingAmount) * magnification;\n  return gameHandleInput(String(count));\n}\n\n//金额热键\nexport function AmontKeyDown(event: KeyboardEvent, input: string): string {\n  if (dataCenter.gameConfiguration.HotkeyEnabled) {\n    const isAPressed = event.key === 'a';\n    const isDPressed = event.key === 'd';\n    const isSPressed = event.key === 's';\n    // 处理热键触发后的逻辑\n    if (isAPressed) {\n      return amountMin();\n    }\n    if (isDPressed) {\n      return gameBettingAmount(2, input);\n    }\n    if (isSPressed) {\n      return gameBettingAmount(2, input);\n    }\n  }\n  return input;\n}\n//金额累加\nexport function amountAdd(bet: string, addValue: string) {\n  let amount = formatMoney(\n    Number(bet) * (1 + Number(addValue) * 0.01),\n    dataCenter.wallet.getSelectedCurrency(),\n  );\n  const max = amountMax();\n  const min = amountMin();\n  if (amount > max) {\n    amount = max;\n  } else if (amount < min) {\n    amount = min;\n  }\n  return amount;\n}\n"],"mappings":"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"}]}