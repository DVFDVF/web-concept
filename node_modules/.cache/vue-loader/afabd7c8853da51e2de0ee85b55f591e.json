{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/chatsArea/ChatsArea.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/chatsArea/ChatsArea.vue","mtime":1716171553022},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7IFVzZXJCcmllZlJlc3BJdGVtIH0gZnJvbSAnQC9hcGkvcHJvdG9jb2wnOwppbXBvcnQgZGF0YUNlbnRlciBmcm9tICdAL2RhdGFDZW50ZXInOwppbXBvcnQgeyBDaGF0RGF0YSB9IGZyb20gJ0AvZGF0YUNlbnRlci9jaGF0Um9vbSc7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCwgbmV4dFRpY2ssIHJlZiwgd2F0Y2ggfSBmcm9tICd2dWUnOwppbXBvcnQgQ2hhdHNMb2RkaW5nIGZyb20gJy4uL0NoYXRzTG9kZGluZy52dWUnOwppbXBvcnQgQ2hhdHNDZW50ZXIgZnJvbSAnLi9DaGF0c0NlbnRlci52dWUnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBpc0xvZGRpbmc6IGZhbHNlLAogICAgICBzY3JvbGxCdG46IGZhbHNlLAogICAgICBpc0VtcHR5OiBmYWxzZSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBzY3JvbGxUb0J1dHRvbSgpIHsKICAgICAgLy8g5L2/55SoJHJlZnPmnaXojrflj5blhYPntKDlvJXnlKgKICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gdGhpcy4kcmVmcy5zY3JvbGxDb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7CiAgICAgIGlmIChzY3JvbGxDb250YWluZXIpIHsKICAgICAgICAvLyDmu5rliqjliLDlupXpg6gKICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wID0gc2Nyb2xsQ29udGFpbmVyLnNjcm9sbEhlaWdodDsKICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIGhhbmRsZVNjcm9sbCgpIHsKICAgICAgLy8g5aaC5L2V5Yqg6L295q2j5Zyo6L+b6KGM77yM5LiN5YaN6K+35rGC5Yi35pawCiAgICAgIGlmICh0aGlzLmlzTG9kZGluZyB8fCB0aGlzLmlzRW1wdHkpIHJldHVybjsKICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gdGhpcy4kcmVmcy5zY3JvbGxDb250YWluZXIgYXMgSFRNTEVsZW1lbnQ7CiAgICAgIGlmICghc2Nyb2xsQ29udGFpbmVyKSByZXR1cm47CiAgICAgIGNvbnN0IHNjcm9sbEhlaWdodCA9IHNjcm9sbENvbnRhaW5lci5zY3JvbGxIZWlnaHQ7CiAgICAgIC8v5aaC5p6c6LaF6L+H5LiA5Liq6aG16Z2i5Yy65Z+f77yM5pi+56S65rua5Yqo5oyJ6ZKuCiAgICAgIGlmICgKICAgICAgICBzY3JvbGxDb250YWluZXIuc2Nyb2xsVG9wICsgc2Nyb2xsQ29udGFpbmVyLmNsaWVudEhlaWdodCAqIDIgPAogICAgICAgIHNjcm9sbEhlaWdodAogICAgICApIHsKICAgICAgICB0aGlzLnNjcm9sbEJ0biA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuc2Nyb2xsQnRuID0gZmFsc2U7CiAgICAgIH0KICAgICAgaWYgKHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgPD0gMCkgewogICAgICAgIGlmICh0aGlzLm1lc3NhZ2VMaXN0KSB7CiAgICAgICAgICAvL+WmguaenOWkp+S6juS4pOeZvuadoeWwseS4jeimgeivt+axguaVsOaNruS6hgogICAgICAgICAgaWYgKHRoaXMubWVzc2FnZUxpc3QubGVuZ3RoID49IDIwMCkgewogICAgICAgICAgICB0aGlzLmlzTG9kZGluZyA9IGZhbHNlOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIC8vIOajgOafpea7muWKqOS9jee9ruaYr+WQpuWcqOmhtemdoumhtumDqAogICAgICAgIHRoaXMuaXNMb2RkaW5nID0gdHJ1ZTsKICAgICAgICBkYXRhQ2VudGVyLmNoYXRSb29tCiAgICAgICAgICAucHVsbEhpc3RvcnkoKQogICAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICAgICAgY29uc3Qgbm93U2Nyb2xsUG9zaXRpb24gPSBzY3JvbGxDb250YWluZXIuc2Nyb2xsSGVpZ2h0OwogICAgICAgICAgICAgIHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgPSBub3dTY3JvbGxQb3NpdGlvbiAtIHNjcm9sbEhlaWdodDsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9KQogICAgICAgICAgLmZpbmFsbHkoKCkgPT4gewogICAgICAgICAgICB0aGlzLmlzTG9kZGluZyA9IGZhbHNlOwogICAgICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyLnNjcm9sbFRvcCA8PSAyMykgewogICAgICAgICAgICAgIHRoaXMuaXNFbXB0eSA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgcmVwbHlDbGljayhtc2dJdGVtOiBDaGF0RGF0YSwgdXNlckJyaWVmOiBVc2VyQnJpZWZSZXNwSXRlbSkgewogICAgICB0aGlzLiRlbWl0KCdyZXBseUNsaWNrJywgbXNnSXRlbSwgdXNlckJyaWVmKTsKICAgIH0sCiAgfSwKICBzZXR1cCgpIHsKICAgIGNvbnN0IHNjcm9sbENvbnRhaW5lciA9IHJlZjxIVE1MRWxlbWVudCB8IG51bGw+KG51bGwpOwogICAgd2F0Y2goCiAgICAgICgpID0+IGRhdGFDZW50ZXIuY2hhdFJvb20ubGlzdC5sZW5ndGgsCiAgICAgICgpID0+IHsKICAgICAgICBuZXh0VGljaygoKSA9PiB7CiAgICAgICAgICBpZiAoc2Nyb2xsQ29udGFpbmVyLnZhbHVlKSB7CiAgICAgICAgICAgIGxldCBzY3JvbGwgPSBzY3JvbGxDb250YWluZXIudmFsdWUgYXMgSFRNTEVsZW1lbnQ7CiAgICAgICAgICAgIGlmICghc2Nyb2xsKSByZXR1cm47CiAgICAgICAgICAgIGNvbnN0IHNjcm9sbEhlaWdodCA9IHNjcm9sbC5zY3JvbGxIZWlnaHQ7CiAgICAgICAgICAgIGlmIChzY3JvbGwpIHsKICAgICAgICAgICAgICAvL+a7muWKqOWkmuS6hu+8jOS4jeWGjea7muWKqAogICAgICAgICAgICAgIGlmICgKICAgICAgICAgICAgICAgIC8v6LaF6L+H5LiA6aG15LiN5YaN6Ieq5Yqo5rua5Yqo5Yiw5bqV6YOoCiAgICAgICAgICAgICAgICBzY3JvbGwuc2Nyb2xsVG9wICsgc2Nyb2xsLmNsaWVudEhlaWdodCAqIDIgPAogICAgICAgICAgICAgICAgc2Nyb2xsSGVpZ2h0CiAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIHNjcm9sbC5zY3JvbGxUb3AgPSBzY3JvbGxIZWlnaHQ7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSwKICAgICk7CiAgICByZXR1cm4gewogICAgICBzY3JvbGxDb250YWluZXIsCiAgICB9OwogIH0sCiAgY29tcG9uZW50czogeyBDaGF0c0NlbnRlciwgQ2hhdHNMb2RkaW5nIH0sCiAgcHJvcHM6IHsKICAgIG1lc3NhZ2VMaXN0OiB7CiAgICAgIHR5cGU6IE9iamVjdCBhcyAoKSA9PiBDaGF0RGF0YVtdLAogICAgfSwKICB9LAp9KTsK"},{"version":3,"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/chatsArea/ChatsArea.vue"],"names":[],"mappings":";AAuCA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAClD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC9C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;EAC7B,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IAChB,CAAC;EACH,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACf,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAChB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;QACnB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC;QACP,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;UACnB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC1D,CAAC,CAAC;MACJ;IACF,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACb,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC1C,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5B,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAClB,CAAC,EAAE;QACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE;QAC7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACb,EAAE;QACA,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACxB,EAAE,CAAC,CAAC,CAAC,EAAE;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;MACxB;MACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE;QAClC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;UACpB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE;YAClC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACtB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACR;QACF;QACA,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACf,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;QACrB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UAChB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;UACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;cACnB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACtD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YAC9D,CAAC,CAAC;UACJ,CAAC;UACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;YACb,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;YACtB,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,EAAE;cACnC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC;YACrB;UACF,CAAC,CAAC;MACN;IACF,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MAC1D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC9C,CAAC;EACH,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACN,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACrD,CAAC,CAAC,CAAC,CAAC,CAAC;MACH,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACrC,CAAC,EAAE,CAAC,EAAE;QACJ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE;UACb,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;YACzB,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjD,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACnB,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACxC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;cACV,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACV,CAAC,EAAE;gBACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;gBACd,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,EAAE;gBAC3C,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACb;gBACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;cACR,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;YACjC;UACF;QACF,CAAC,CAAC;MACJ,CAAC;IACH,CAAC;IACD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACjB,CAAC;EACH,CAAC;EACD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC;EACzC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;IACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE;MACX,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAClC,CAAC;EACH,CAAC;AACH,CAAC,CAAC","file":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/chatsArea/ChatsArea.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"main\">\n    <div class=\"content\" ref=\"scrollContainer\" @scroll=\"handleScroll\">\n      <!-- <ChatsCenterIcon></ChatsCenterIcon> -->\n      <div class=\"col-center\" v-show=\"isLodding\">\n        <ChatsLodding style=\"width: 20px; height: 20px\"></ChatsLodding>\n      </div>\n      <ChatsCenter\n        v-for=\"item in messageList\"\n        :key=\"item.id\"\n        :msg-item=\"item\"\n        @replyClick=\"replyClick\"\n      ></ChatsCenter>\n    </div>\n    <button\n      class=\"scroll-interaction-button center visible\"\n      @click=\"scrollToButtom()\"\n      v-show=\"scrollBtn\"\n    >\n      <svg\n        width=\"10\"\n        height=\"6\"\n        viewBox=\"0 0 10 6\"\n        fill=\"none\"\n        xmlns=\"http://www.w3.org/2000/svg\"\n      >\n        <path\n          d=\"M1 1L5 5L9 1\"\n          stroke=\"white\"\n          stroke-width=\"2\"\n          stroke-linecap=\"round\"\n          stroke-linejoin=\"round\"\n        ></path>\n      </svg>\n      <!-- <span class=\"amount center unread-amount\">9</span> -->\n    </button>\n  </div>\n</template>\n<script lang=\"ts\">\nimport { UserBriefRespItem } from '@/api/protocol';\nimport dataCenter from '@/dataCenter';\nimport { ChatData } from '@/dataCenter/chatRoom';\nimport { defineComponent, nextTick, ref, watch } from 'vue';\nimport ChatsLodding from '../ChatsLodding.vue';\nimport ChatsCenter from './ChatsCenter.vue';\nexport default defineComponent({\n  data() {\n    return {\n      isLodding: false,\n      scrollBtn: false,\n      isEmpty: false,\n    };\n  },\n  methods: {\n    scrollToButtom() {\n      // 使用$refs来获取元素引用\n      const scrollContainer = this.$refs.scrollContainer as HTMLElement;\n      if (scrollContainer) {\n        // 滚动到底部\n        this.$nextTick(() => {\n          scrollContainer.scrollTop = scrollContainer.scrollHeight;\n        });\n      }\n    },\n    handleScroll() {\n      // 如何加载正在进行，不再请求刷新\n      if (this.isLodding || this.isEmpty) return;\n      const scrollContainer = this.$refs.scrollContainer as HTMLElement;\n      if (!scrollContainer) return;\n      const scrollHeight = scrollContainer.scrollHeight;\n      //如果超过一个页面区域，显示滚动按钮\n      if (\n        scrollContainer.scrollTop + scrollContainer.clientHeight * 2 <\n        scrollHeight\n      ) {\n        this.scrollBtn = false;\n      } else {\n        this.scrollBtn = false;\n      }\n      if (scrollContainer.scrollTop <= 0) {\n        if (this.messageList) {\n          //如果大于两百条就不要请求数据了\n          if (this.messageList.length >= 200) {\n            this.isLodding = false;\n            return;\n          }\n        }\n        // 检查滚动位置是否在页面顶部\n        this.isLodding = true;\n        dataCenter.chatRoom\n          .pullHistory()\n          .then(() => {\n            this.$nextTick(() => {\n              const nowScrollPosition = scrollContainer.scrollHeight;\n              scrollContainer.scrollTop = nowScrollPosition - scrollHeight;\n            });\n          })\n          .finally(() => {\n            this.isLodding = false;\n            if (scrollContainer.scrollTop <= 23) {\n              this.isEmpty = true;\n            }\n          });\n      }\n    },\n    replyClick(msgItem: ChatData, userBrief: UserBriefRespItem) {\n      this.$emit('replyClick', msgItem, userBrief);\n    },\n  },\n  setup() {\n    const scrollContainer = ref<HTMLElement | null>(null);\n    watch(\n      () => dataCenter.chatRoom.list.length,\n      () => {\n        nextTick(() => {\n          if (scrollContainer.value) {\n            let scroll = scrollContainer.value as HTMLElement;\n            if (!scroll) return;\n            const scrollHeight = scroll.scrollHeight;\n            if (scroll) {\n              //滚动多了，不再滚动\n              if (\n                //超过一页不再自动滚动到底部\n                scroll.scrollTop + scroll.clientHeight * 2 <\n                scrollHeight\n              )\n                return;\n              scroll.scrollTop = scrollHeight;\n            }\n          }\n        });\n      },\n    );\n    return {\n      scrollContainer,\n    };\n  },\n  components: { ChatsCenter, ChatsLodding },\n  props: {\n    messageList: {\n      type: Object as () => ChatData[],\n    },\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n.main {\n  flex: 1;\n  position: relative;\n  overflow: hidden;\n}\n.content {\n  flex: 1;\n  height: 100%;\n  overflow-y: auto;\n  padding-bottom: 10px;\n}\n.scroll-interaction-button.visible {\n  opacity: 1;\n  transform: translateY(0);\n  visibility: visible;\n}\n.scroll-interaction-button {\n  background-color: #3c485c;\n  border-radius: 50%;\n  bottom: 16px;\n  height: 40px;\n  min-width: 40px;\n  opacity: 0;\n  padding: 0;\n  position: absolute;\n  right: 14px;\n  transform: translateY(10px);\n  transition: background-color 0.1s ease-in-out, transform 0.1s ease-in-out,\n    opacity 0.1s ease-in-out;\n  visibility: hidden;\n  will-change: background-color, transform, opacity;\n  z-index: 3;\n}\n.scroll-interaction-button .amount {\n  background-color: #1bb83d;\n  border-radius: 50px;\n  color: #fff;\n  font-size: 12px;\n  font-weight: 600;\n  height: 20px;\n  left: 50%;\n  letter-spacing: -0.02em;\n  min-width: 20px;\n  padding-left: 5px;\n  padding-right: 5px;\n  position: absolute;\n  top: 0;\n  transform: translate(-50%, -50%);\n  transition: background-color 0.1s ease-in-out;\n}\n\n.scroll-interaction-button:hover {\n  background-color: #55657e;\n}\n</style>\n"]}]}