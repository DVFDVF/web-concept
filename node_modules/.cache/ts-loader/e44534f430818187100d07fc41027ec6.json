{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/casino/drawLottery/index.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/casino/drawLottery/index.ts","mtime":1716448562584},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IHJlYWN0aXZlIH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgZ2V0R2FtZXMgfSBmcm9tICcuLi8uLi9hcGknOwppbXBvcnQgJ2RheWpzL2xvY2FsZS9wdC1icic7CmltcG9ydCBkYXlqcyBmcm9tICdkYXlqcyc7CmNsYXNzIEdhbWVMdWNrIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuZ2FtZURhdGEgPSBbXTsKICAgIHRoaXMuaXNTaG93ID0gZmFsc2U7CiAgICB0aGlzLmxvYWRlZEltYWdlc0NvdW50ID0gMDsKICAgIHRoaXMuYWxsSW1hZ2VzTG9hZGVkID0gZmFsc2U7CiAgICB0aGlzLmltYWdlRWxlbWVudHMgPSBbXTsKICAgIGdldEdhbWVzKDYsIDI0LCAxKS50aGVuKGRhdGEgPT4gewogICAgICBpZiAoZGF0YSkgewogICAgICAgIHRoaXMuZ2FtZURhdGEgPSBkYXRhLmRhdGE7CiAgICAgICAgdGhpcy5nYW1lRGF0YS5mb3JFYWNoKGdhbWUgPT4gewogICAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7CiAgICAgICAgICBpbWcuc3JjID0gYCR7cHJvY2Vzcy5lbnYuVlVFX0FQUF9TM30ke2dhbWUuaWNvbn1gOwogICAgICAgICAgaW1nLm9ubG9hZCA9ICgpID0+IHRoaXMub25JbWFnZUxvYWQoKTsKICAgICAgICAgIGltZy5vbmVycm9yID0gKCkgPT4gdGhpcy5vbkltYWdlTG9hZCgpOwogICAgICAgICAgdGhpcy5pbWFnZUVsZW1lbnRzLnB1c2goaW1nKTsKICAgICAgICB9KTsKICAgICAgfQogICAgfSk7CiAgfQogIG9uSW1hZ2VMb2FkKCkgewogICAgdGhpcy5sb2FkZWRJbWFnZXNDb3VudCsrOwogICAgaWYgKHRoaXMubG9hZGVkSW1hZ2VzQ291bnQgPT09IHRoaXMuZ2FtZURhdGEubGVuZ3RoKSB7CiAgICAgIGNvbnN0IHRpbWUgPSBkYXlqcygpLmxvY2FsZSgncHQtYnInKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgdGhpcy5pc1Nob3cgPSB0aGlzLmdldFRpbWUoKSAhPSB0aW1lOwogICAgfQogIH0KICBnZXRUaW1lKCkgewogICAgcmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdnYW1lTHVja1BsYXlUaW1lJyk7CiAgfQogIHBsYXlHYW1lKCkgewogICAgaWYgKHRoaXMuaXNTaG93KSB7CiAgICAgIGNvbnN0IHRpbWUgPSBkYXlqcygpLmxvY2FsZSgncHQtYnInKS5mb3JtYXQoJ1lZWVktTU0tREQnKTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ2dhbWVMdWNrUGxheVRpbWUnLCB0aW1lKTsKICAgICAgdGhpcy5pc1Nob3cgPSBmYWxzZTsKICAgIH0KICB9Cn0KZXhwb3J0IGNvbnN0IGdhbWVMdWNrID0gcmVhY3RpdmUobmV3IEdhbWVMdWNrKCkpOw=="},{"version":3,"names":["reactive","getGames","dayjs","GameLuck","constructor","gameData","isShow","loadedImagesCount","allImagesLoaded","imageElements","then","data","forEach","game","img","Image","src","process","env","VUE_APP_S3","icon","onload","onImageLoad","onerror","push","length","time","locale","format","getTime","localStorage","getItem","playGame","setItem","gameLuck"],"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/casino/drawLottery/index.ts"],"sourcesContent":["import { reactive } from 'vue';\nimport { getGames } from '../../api';\nimport { GamesDatas } from '../../api/protocol';\nimport 'dayjs/locale/pt-br';\nimport dayjs from 'dayjs';\nclass GameLuck {\n  public gameData: GamesDatas[] = [];\n  public isShow = false;\n  public loadedImagesCount = 0;\n  public allImagesLoaded = false;\n  public imageElements = [] as HTMLImageElement[];\n  constructor() {\n    getGames(6, 24, 1).then((data) => {\n      if (data) {\n        this.gameData = data.data;\n        this.gameData.forEach((game) => {\n          const img = new Image();\n          img.src = `${process.env.VUE_APP_S3}${game.icon}`;\n          img.onload = () => this.onImageLoad();\n          img.onerror = () => this.onImageLoad();\n          this.imageElements.push(img);\n        });\n      }\n    });\n  }\n  onImageLoad() {\n    this.loadedImagesCount++;\n    if (this.loadedImagesCount === this.gameData.length) {\n      const time = dayjs().locale('pt-br').format('YYYY-MM-DD');\n      this.isShow = this.getTime() != time;\n    }\n  }\n  getTime() {\n    return localStorage.getItem('gameLuckPlayTime');\n  }\n  playGame() {\n    if (this.isShow) {\n      const time = dayjs().locale('pt-br').format('YYYY-MM-DD');\n      localStorage.setItem('gameLuckPlayTime', time);\n      this.isShow = false;\n    }\n  }\n}\nexport const gameLuck = reactive(new GameLuck());\n"],"mappings":";AAAA,SAASA,QAAQ,QAAQ,KAAK;AAC9B,SAASC,QAAQ,QAAQ,WAAW;AAEpC,OAAO,oBAAoB;AAC3B,OAAOC,KAAK,MAAM,OAAO;AACzB,MAAMC,QAAQ;EAMZC,YAAA;IALO,KAAAC,QAAQ,GAAiB,EAAE;IAC3B,KAAAC,MAAM,GAAG,KAAK;IACd,KAAAC,iBAAiB,GAAG,CAAC;IACrB,KAAAC,eAAe,GAAG,KAAK;IACvB,KAAAC,aAAa,GAAG,EAAwB;IAE7CR,QAAQ,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAACS,IAAI,CAAEC,IAAI,IAAI;MAC/B,IAAIA,IAAI,EAAE;QACR,IAAI,CAACN,QAAQ,GAAGM,IAAI,CAACA,IAAI;QACzB,IAAI,CAACN,QAAQ,CAACO,OAAO,CAAEC,IAAI,IAAI;UAC7B,MAAMC,GAAG,GAAG,IAAIC,KAAK,EAAE;UACvBD,GAAG,CAACE,GAAG,GAAG,GAAGC,OAAO,CAACC,GAAG,CAACC,UAAU,GAAGN,IAAI,CAACO,IAAI,EAAE;UACjDN,GAAG,CAACO,MAAM,GAAG,MAAM,IAAI,CAACC,WAAW,EAAE;UACrCR,GAAG,CAACS,OAAO,GAAG,MAAM,IAAI,CAACD,WAAW,EAAE;UACtC,IAAI,CAACb,aAAa,CAACe,IAAI,CAACV,GAAG,CAAC;QAC9B,CAAC,CAAC;;IAEN,CAAC,CAAC;EACJ;EACAQ,WAAWA,CAAA;IACT,IAAI,CAACf,iBAAiB,EAAE;IACxB,IAAI,IAAI,CAACA,iBAAiB,KAAK,IAAI,CAACF,QAAQ,CAACoB,MAAM,EAAE;MACnD,MAAMC,IAAI,GAAGxB,KAAK,EAAE,CAACyB,MAAM,CAAC,OAAO,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC;MACzD,IAAI,CAACtB,MAAM,GAAG,IAAI,CAACuB,OAAO,EAAE,IAAIH,IAAI;;EAExC;EACAG,OAAOA,CAAA;IACL,OAAOC,YAAY,CAACC,OAAO,CAAC,kBAAkB,CAAC;EACjD;EACAC,QAAQA,CAAA;IACN,IAAI,IAAI,CAAC1B,MAAM,EAAE;MACf,MAAMoB,IAAI,GAAGxB,KAAK,EAAE,CAACyB,MAAM,CAAC,OAAO,CAAC,CAACC,MAAM,CAAC,YAAY,CAAC;MACzDE,YAAY,CAACG,OAAO,CAAC,kBAAkB,EAAEP,IAAI,CAAC;MAC9C,IAAI,CAACpB,MAAM,GAAG,KAAK;;EAEvB;;AAEF,OAAO,MAAM4B,QAAQ,GAAGlC,QAAQ,CAAC,IAAIG,QAAQ,EAAE,CAAC"}]}