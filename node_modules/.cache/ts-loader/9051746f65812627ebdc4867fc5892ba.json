{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/games/wheel/game/WheelRunner.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/games/wheel/game/WheelRunner.ts","mtime":1716171553012},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVXBkYXRlciB9IGZyb20gJ0AvbWFuYWdlci9GcmFtZU1hbmFnZXInOwpleHBvcnQgdmFyIFdoZWVsU3RhZ2U7CihmdW5jdGlvbiAoV2hlZWxTdGFnZSkgewogIFdoZWVsU3RhZ2VbV2hlZWxTdGFnZVsiQkVHSU5fQkFDSyJdID0gMF0gPSAiQkVHSU5fQkFDSyI7CiAgV2hlZWxTdGFnZVtXaGVlbFN0YWdlWyJST0xMSU5HIl0gPSAxXSA9ICJST0xMSU5HIjsKICBXaGVlbFN0YWdlW1doZWVsU3RhZ2VbIlNMT1dfRE9XTiJdID0gMl0gPSAiU0xPV19ET1dOIjsKICBXaGVlbFN0YWdlW1doZWVsU3RhZ2VbIkNPTVBMRVRFIl0gPSAzXSA9ICJDT01QTEVURSI7Cn0pKFdoZWVsU3RhZ2UgfHwgKFdoZWVsU3RhZ2UgPSB7fSkpOwpleHBvcnQgZGVmYXVsdCBjbGFzcyBXaGVlbFJ1bm5lciBleHRlbmRzIFVwZGF0ZXIgewogIGNvbnN0cnVjdG9yKG9wdGlvbikgewogICAgc3VwZXIoKTsKICAgIHRoaXMudGFyZ2V0RGVncmVlID0gMDsKICAgIHRoaXMudGFyZ2V0ID0gMDsKICAgIC8vIOesrOWHoOatpe+8jDDlkK/liqjlm57lvLnvvIwx5YyA6YCf5peL6L2s77yMMuWHj+mAn++8jDPlm57lvLnliqDpgJ/vvIw05Zue5by55YeP6YCfCiAgICB0aGlzLnN0ZXAgPSAtMTsKICAgIHRoaXMuc3RlcDBUaW1lID0gMDsKICAgIHRoaXMuc3RlcDFUaW1lID0gMDsKICAgIHRoaXMuc3RlcDJUaW1lID0gMDsKICAgIHRoaXMuc3RlcDNUaW1lID0gMDsKICAgIHRoaXMuc3RlcDRUaW1lID0gMDsKICAgIHRoaXMub3B0aW9uID0gb3B0aW9uOwogICAgdGhpcy5lYWNoRGVncmVlID0gMzYwIC8gb3B0aW9uLmFyZWFDb3VudDsKICAgIHRoaXMuc2xvd0Rvd25UaW1lID0gb3B0aW9uLnNwZWVkIC8gb3B0aW9uLmFjY2VsZXI7CiAgICAvLyDlh4/pgJ/liLAw6ZyA6KaB55qE5bqm5pWwCiAgICB0aGlzLnNsb3dEb3duRGVncmVlID0gMC41ICogb3B0aW9uLmFjY2VsZXIgKiB0aGlzLnNsb3dEb3duVGltZSAqIHRoaXMuc2xvd0Rvd25UaW1lOwogICAgLy8g5Zue5by56ZyA6KaB55qE5pe26Ze077yM6KaB4pyW77iPMu+8jOi/meaYr+WNleS4qui/h+eoi+eahOaXtumXtAogICAgdGhpcy5lbmRCYWNrVGltZSA9IE1hdGguc3FydChvcHRpb24uZW5kQmFjayAqIDIgLyAyIC8gb3B0aW9uLmFjY2VsZXIpOwogICAgLy8g5LiA5ZyI55qE5pe26Ze0CiAgICB0aGlzLnJvdW5kVGltZSA9IDM2MCAvIG9wdGlvbi5zcGVlZDsKICAgIC8vIOW8gOWni+eahOWbnuW8ueaXtumXtO+8jOimgeKclu+4jzIKICAgIHRoaXMuYmVnaW5CYWNrVGltZSA9IG9wdGlvbi5iZWdpbkJhY2sgLyBvcHRpb24uYmVnaW5CYWNrU3BlZWQ7CiAgfQogIHJ1blRvKGluZGV4LCBjYWxsYmFjaykgewogICAgdGhpcy5vblN0YWdlID0gY2FsbGJhY2s7CiAgICB0aGlzLnRhcmdldCA9IGluZGV4ICUgdGhpcy5vcHRpb24uYXJlYUNvdW50OwogICAgdGhpcy5zdGVwID0gLTE7CiAgICB0aGlzLnRhcmdldERlZ3JlZSA9IHRoaXMudGFyZ2V0ICogdGhpcy5lYWNoRGVncmVlICsgKE1hdGgucmFuZG9tKCkgLSAwLjUpICogdGhpcy5lYWNoRGVncmVlICogMC44OwogICAgLy8g5Zug5Li65pyJ5Zue5by577yM5omA5Lul6KaB5aSa6LWw5LiA54K5CiAgICBjb25zdCB0YXJnZXRUaW1lID0gKHRoaXMudGFyZ2V0RGVncmVlIC0gdGhpcy5zbG93RG93bkRlZ3JlZSArIHRoaXMub3B0aW9uLmVuZEJhY2spIC8gdGhpcy5vcHRpb24uc3BlZWQ7CiAgICBjb25zdCBiYXNlVGltZSA9IHRoaXMuYmVnaW5CYWNrVGltZSArIHRhcmdldFRpbWUgKyB0aGlzLnNsb3dEb3duVGltZSArIHRoaXMuZW5kQmFja1RpbWUgKiAyOwogICAgY29uc3Qgcm91bmRDb3VudCA9IE1hdGguY2VpbCgodGhpcy5vcHRpb24uZHVyYXRpb24gLSBiYXNlVGltZSkgLyB0aGlzLnJvdW5kVGltZSk7CiAgICB0aGlzLnN0ZXAwVGltZSA9IHRoaXMuYmVnaW5CYWNrVGltZSAqIDEwMDA7CiAgICB0aGlzLnN0ZXAxVGltZSA9ICh0aGlzLm9wdGlvbi5iZWdpbkJhY2sgLyB0aGlzLm9wdGlvbi5zcGVlZCArIHRhcmdldFRpbWUgKyByb3VuZENvdW50ICogdGhpcy5yb3VuZFRpbWUpICogMTAwMCArIHRoaXMuc3RlcDBUaW1lOwogICAgdGhpcy5zdGVwMlRpbWUgPSB0aGlzLnNsb3dEb3duVGltZSAqIDEwMDAgKyB0aGlzLnN0ZXAxVGltZTsKICAgIHRoaXMuc3RlcDNUaW1lID0gdGhpcy5lbmRCYWNrVGltZSAqIDEwMDAgKyB0aGlzLnN0ZXAyVGltZTsKICAgIHRoaXMuc3RlcDRUaW1lID0gdGhpcy5lbmRCYWNrVGltZSAqIDEwMDAgKyB0aGlzLnN0ZXAzVGltZTsKICAgIHRoaXMucmVnaXN0ZXIoKTsKICB9CiAgdXBkYXRlKGVzdCkgewogICAgc3VwZXIudXBkYXRlKGVzdCk7CiAgICBpZiAodGhpcy5lc3BUaW1lIDwgdGhpcy5zdGVwMFRpbWUpIHsKICAgICAgLy8g5Zue5by5CiAgICAgIHRoaXMub3B0aW9uLnVwZGF0ZSgtdGhpcy5lc3BUaW1lICogdGhpcy5vcHRpb24uYmVnaW5CYWNrU3BlZWQgLyAxMDAwKTsKICAgICAgaWYgKHRoaXMuc3RlcCAhPT0gV2hlZWxTdGFnZS5CRUdJTl9CQUNLKSB7CiAgICAgICAgdmFyIF90aGlzJG9uU3RhZ2U7CiAgICAgICAgdGhpcy5zdGVwID0gV2hlZWxTdGFnZS5CRUdJTl9CQUNLOwogICAgICAgIChfdGhpcyRvblN0YWdlID0gdGhpcy5vblN0YWdlKSA9PT0gbnVsbCB8fCBfdGhpcyRvblN0YWdlID09PSB2b2lkIDAgfHwgX3RoaXMkb25TdGFnZS5jYWxsKHRoaXMsIHRoaXMuc3RlcCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodGhpcy5lc3BUaW1lIDwgdGhpcy5zdGVwMVRpbWUpIHsKICAgICAgLy8g5YyA6YCfCiAgICAgIGNvbnN0IHRpbWUgPSAodGhpcy5lc3BUaW1lIC0gdGhpcy5zdGVwMFRpbWUpIC8gMTAwMDsKICAgICAgdGhpcy5vcHRpb24udXBkYXRlKC10aGlzLm9wdGlvbi5iZWdpbkJhY2sgKyB0aW1lICogdGhpcy5vcHRpb24uc3BlZWQpOwogICAgICBpZiAodGhpcy5zdGVwICE9PSBXaGVlbFN0YWdlLlJPTExJTkcpIHsKICAgICAgICB2YXIgX3RoaXMkb25TdGFnZTI7CiAgICAgICAgdGhpcy5zdGVwID0gV2hlZWxTdGFnZS5ST0xMSU5HOwogICAgICAgIChfdGhpcyRvblN0YWdlMiA9IHRoaXMub25TdGFnZSkgPT09IG51bGwgfHwgX3RoaXMkb25TdGFnZTIgPT09IHZvaWQgMCB8fCBfdGhpcyRvblN0YWdlMi5jYWxsKHRoaXMsIHRoaXMuc3RlcCk7CiAgICAgIH0KICAgIH0gZWxzZSBpZiAodGhpcy5lc3BUaW1lIDwgdGhpcy5zdGVwMlRpbWUpIHsKICAgICAgLy8g5YeP6YCfCiAgICAgIGNvbnN0IHRpbWUgPSAodGhpcy5lc3BUaW1lIC0gdGhpcy5zdGVwMVRpbWUpIC8gMTAwMDsKICAgICAgY29uc3Qgc2xvd0Rvd24gPSB0aGlzLm9wdGlvbi5zcGVlZCAqIHRpbWUgLSAwLjUgKiB0aGlzLm9wdGlvbi5hY2NlbGVyICogdGltZSAqIHRpbWU7CiAgICAgIGNvbnN0IGZpcnN0MlN0ZXAgPSB0aGlzLm9wdGlvbi5zcGVlZCAqICh0aGlzLnN0ZXAxVGltZSAtIHRoaXMuc3RlcDBUaW1lKSAvIDEwMDAgLSB0aGlzLm9wdGlvbi5iZWdpbkJhY2s7CiAgICAgIHRoaXMub3B0aW9uLnVwZGF0ZShmaXJzdDJTdGVwICsgc2xvd0Rvd24pOwogICAgICBpZiAodGhpcy5zdGVwICE9PSBXaGVlbFN0YWdlLlNMT1dfRE9XTikgewogICAgICAgIHZhciBfdGhpcyRvblN0YWdlMzsKICAgICAgICB0aGlzLnN0ZXAgPSBXaGVlbFN0YWdlLlNMT1dfRE9XTjsKICAgICAgICAoX3RoaXMkb25TdGFnZTMgPSB0aGlzLm9uU3RhZ2UpID09PSBudWxsIHx8IF90aGlzJG9uU3RhZ2UzID09PSB2b2lkIDAgfHwgX3RoaXMkb25TdGFnZTMuY2FsbCh0aGlzLCB0aGlzLnN0ZXApOwogICAgICB9CiAgICB9IGVsc2UgaWYgKHRoaXMuZXNwVGltZSA8IHRoaXMuc3RlcDNUaW1lKSB7CiAgICAgIC8vIOWbnuW8ueWKoOmAnwogICAgICBjb25zdCB0aW1lID0gKHRoaXMuZXNwVGltZSAtIHRoaXMuc3RlcDJUaW1lKSAvIDEwMDA7CiAgICAgIGNvbnN0IGZpcnN0MlN0ZXAgPSB0aGlzLm9wdGlvbi5zcGVlZCAqICh0aGlzLnN0ZXAxVGltZSAtIHRoaXMuc3RlcDBUaW1lKSAvIDEwMDAgLSB0aGlzLm9wdGlvbi5iZWdpbkJhY2s7CiAgICAgIGNvbnN0IHRoaXJkU3RlcCA9IHRoaXMuc2xvd0Rvd25EZWdyZWU7CiAgICAgIGNvbnN0IHRoZUVuZFVwRGVncmVlID0gMC41ICogdGhpcy5vcHRpb24uYWNjZWxlciAqIHRpbWUgKiB0aW1lOwogICAgICB0aGlzLm9wdGlvbi51cGRhdGUoZmlyc3QyU3RlcCArIHRoaXJkU3RlcCAtIHRoZUVuZFVwRGVncmVlKTsKICAgIH0gZWxzZSBpZiAodGhpcy5lc3BUaW1lIDwgdGhpcy5zdGVwNFRpbWUpIHsKICAgICAgLy8g5Zue5by55YeP6YCfCiAgICAgIGNvbnN0IHRpbWUgPSAodGhpcy5lc3BUaW1lIC0gdGhpcy5zdGVwM1RpbWUpIC8gMTAwMDsKICAgICAgY29uc3QgZmlyc3QyU3RlcCA9IHRoaXMub3B0aW9uLnNwZWVkICogKHRoaXMuc3RlcDFUaW1lIC0gdGhpcy5zdGVwMFRpbWUpIC8gMTAwMCAtIHRoaXMub3B0aW9uLmJlZ2luQmFjazsKICAgICAgY29uc3QgdGhpcmRTdGVwID0gdGhpcy5zbG93RG93bkRlZ3JlZTsKICAgICAgY29uc3QgdGhlRW5kRG93bkRlZ3JlZSA9IHRoaXMub3B0aW9uLmFjY2VsZXIgKiB0aGlzLmVuZEJhY2tUaW1lICogdGltZSAtIDAuNSAqIHRoaXMub3B0aW9uLmFjY2VsZXIgKiB0aW1lICogdGltZTsKICAgICAgdGhpcy5vcHRpb24udXBkYXRlKGZpcnN0MlN0ZXAgKyB0aGlyZFN0ZXAgLSB0aGlzLm9wdGlvbi5lbmRCYWNrICogMC41IC0gdGhlRW5kRG93bkRlZ3JlZSk7CiAgICB9IGVsc2UgewogICAgICB2YXIgX3RoaXMkb25TdGFnZTQ7CiAgICAgIHRoaXMub3B0aW9uLnVwZGF0ZSh0aGlzLnRhcmdldERlZ3JlZSk7CiAgICAgIHRoaXMudW5yZWdpc3RlcigpOwogICAgICB0aGlzLnN0ZXAgPSBXaGVlbFN0YWdlLkNPTVBMRVRFOwogICAgICAoX3RoaXMkb25TdGFnZTQgPSB0aGlzLm9uU3RhZ2UpID09PSBudWxsIHx8IF90aGlzJG9uU3RhZ2U0ID09PSB2b2lkIDAgfHwgX3RoaXMkb25TdGFnZTQuY2FsbCh0aGlzLCB0aGlzLnN0ZXApOwogICAgICB0aGlzLm9uU3RhZ2UgPSB1bmRlZmluZWQ7CiAgICB9CiAgfQp9"},{"version":3,"names":["Updater","WheelStage","WheelRunner","constructor","option","targetDegree","target","step","step0Time","step1Time","step2Time","step3Time","step4Time","eachDegree","areaCount","slowDownTime","speed","acceler","slowDownDegree","endBackTime","Math","sqrt","endBack","roundTime","beginBackTime","beginBack","beginBackSpeed","runTo","index","callback","onStage","random","targetTime","baseTime","roundCount","ceil","duration","register","update","est","espTime","BEGIN_BACK","_this$onStage","call","time","ROLLING","_this$onStage2","slowDown","first2Step","SLOW_DOWN","_this$onStage3","thirdStep","theEndUpDegree","theEndDownDegree","_this$onStage4","unregister","COMPLETE","undefined"],"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/games/wheel/game/WheelRunner.ts"],"sourcesContent":["import { Updater } from '@/manager/FrameManager';\n\nexport enum WheelStage {\n  BEGIN_BACK, // 回弹阶段\n  ROLLING, // 匀速阶段\n  SLOW_DOWN, // 减速阶段\n  COMPLETE, // 完成阶段\n}\nexport interface WheelRunnerOption {\n  update: (degree: number) => void;\n  areaCount: number;\n  duration: number;\n  /**加速度 */\n  acceler: number;\n  /**匀速时候的速度 */\n  speed: number;\n  /**起始回弹度数 */\n  beginBack: number;\n  /**起始回弹速度 */\n  beginBackSpeed: number;\n  /**结束回弹度数 */\n  endBack: number;\n}\nexport default class WheelRunner extends Updater {\n  private option: WheelRunnerOption;\n  private targetDegree = 0;\n  private target = 0;\n  private onStage?: (step: number) => void;\n\n  private eachDegree: number;\n\n  private beginBackTime: number;\n  private roundTime: number;\n  private slowDownTime: number;\n  private endBackTime: number;\n\n  private slowDownDegree: number;\n\n  // 第几步，0启动回弹，1匀速旋转，2减速，3回弹加速，4回弹减速\n  private step = -1;\n\n  private step0Time = 0;\n  private step1Time = 0;\n  private step2Time = 0;\n  private step3Time = 0;\n  private step4Time = 0;\n\n  constructor(option: WheelRunnerOption) {\n    super();\n    this.option = option;\n    this.eachDegree = 360 / option.areaCount;\n\n    this.slowDownTime = option.speed / option.acceler;\n    // 减速到0需要的度数\n    this.slowDownDegree =\n      0.5 * option.acceler * this.slowDownTime * this.slowDownTime;\n    // 回弹需要的时间，要✖️2，这是单个过程的时间\n    this.endBackTime = Math.sqrt((option.endBack * 2) / 2 / option.acceler);\n    // 一圈的时间\n    this.roundTime = 360 / option.speed;\n    // 开始的回弹时间，要✖️2\n    this.beginBackTime = option.beginBack / option.beginBackSpeed;\n  }\n  runTo(index: number, callback: (step: number) => void) {\n    this.onStage = callback;\n    this.target = index % this.option.areaCount;\n    this.step = -1;\n\n    this.targetDegree =\n      this.target * this.eachDegree +\n      (Math.random() - 0.5) * this.eachDegree * 0.8;\n    // 因为有回弹，所以要多走一点\n    const targetTime =\n      (this.targetDegree - this.slowDownDegree + this.option.endBack) /\n      this.option.speed;\n    const baseTime =\n      this.beginBackTime +\n      targetTime +\n      this.slowDownTime +\n      this.endBackTime * 2;\n    const roundCount = Math.ceil(\n      (this.option.duration - baseTime) / this.roundTime,\n    );\n\n    this.step0Time = this.beginBackTime * 1000;\n    this.step1Time =\n      (this.option.beginBack / this.option.speed +\n        targetTime +\n        roundCount * this.roundTime) *\n        1000 +\n      this.step0Time;\n    this.step2Time = this.slowDownTime * 1000 + this.step1Time;\n    this.step3Time = this.endBackTime * 1000 + this.step2Time;\n    this.step4Time = this.endBackTime * 1000 + this.step3Time;\n\n    this.register();\n  }\n  update(est: number): void {\n    super.update(est);\n    if (this.espTime < this.step0Time) {\n      // 回弹\n      this.option.update((-this.espTime * this.option.beginBackSpeed) / 1000);\n      if (this.step !== WheelStage.BEGIN_BACK) {\n        this.step = WheelStage.BEGIN_BACK;\n        this.onStage?.(this.step);\n      }\n    } else if (this.espTime < this.step1Time) {\n      // 匀速\n      const time = (this.espTime - this.step0Time) / 1000;\n      this.option.update(-this.option.beginBack + time * this.option.speed);\n      if (this.step !== WheelStage.ROLLING) {\n        this.step = WheelStage.ROLLING;\n        this.onStage?.(this.step);\n      }\n    } else if (this.espTime < this.step2Time) {\n      // 减速\n      const time = (this.espTime - this.step1Time) / 1000;\n      const slowDown =\n        this.option.speed * time - 0.5 * this.option.acceler * time * time;\n      const first2Step =\n        (this.option.speed * (this.step1Time - this.step0Time)) / 1000 -\n        this.option.beginBack;\n      this.option.update(first2Step + slowDown);\n      if (this.step !== WheelStage.SLOW_DOWN) {\n        this.step = WheelStage.SLOW_DOWN;\n        this.onStage?.(this.step);\n      }\n    } else if (this.espTime < this.step3Time) {\n      // 回弹加速\n      const time = (this.espTime - this.step2Time) / 1000;\n      const first2Step =\n        (this.option.speed * (this.step1Time - this.step0Time)) / 1000 -\n        this.option.beginBack;\n      const thirdStep = this.slowDownDegree;\n      const theEndUpDegree = 0.5 * this.option.acceler * time * time;\n      this.option.update(first2Step + thirdStep - theEndUpDegree);\n    } else if (this.espTime < this.step4Time) {\n      // 回弹减速\n      const time = (this.espTime - this.step3Time) / 1000;\n      const first2Step =\n        (this.option.speed * (this.step1Time - this.step0Time)) / 1000 -\n        this.option.beginBack;\n      const thirdStep = this.slowDownDegree;\n      const theEndDownDegree =\n        this.option.acceler * this.endBackTime * time -\n        0.5 * this.option.acceler * time * time;\n      this.option.update(\n        first2Step + thirdStep - this.option.endBack * 0.5 - theEndDownDegree,\n      );\n    } else {\n      this.option.update(this.targetDegree);\n      this.unregister();\n      this.step = WheelStage.COMPLETE;\n      this.onStage?.(this.step);\n      this.onStage = undefined;\n    }\n  }\n}\n"],"mappings":"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"}]}