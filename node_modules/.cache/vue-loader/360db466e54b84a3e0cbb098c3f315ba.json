{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/home/other/PartyGames.vue?vue&type=template&id=f0eb8f00&scoped=true&ts=true","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/home/other/PartyGames.vue","mtime":1716285007716},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1716171609809},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0id3JhcHBlci1pbm5lciI+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiPgogICAgICA8ZGl2IGNsYXNzPSJzbG90LWdhbWUiPgogICAgICAgIDxDaGF0c0xvZGRpbmcgdi1pZj0iIWlmcmFtZUxvYWRlZCIgLz4KICAgICAgICA8ZGl2IGNsYXNzPSJzbG90LWN1cnJlbmN5LWJsb2NrIiB2LXNob3c9IiF1c2VyLmRhdGEiPgogICAgICAgICAgPGRpdiBjbGFzcz0ic2xvdC1jaG9vc2UtY3VycmVuY3kiPgogICAgICAgICAgICA8ZGl2IGNsYXNzPSJzbG90LWN1cnJlbmN5LXdyYXAiPgogICAgICAgICAgICAgIDxGZWVkYmFja0J1dHRvbgogICAgICAgICAgICAgICAgOmxvZ2luLXRleHQ9Imxhbmcudi5wYXJfcGxheSIKICAgICAgICAgICAgICAgIHN0eWxlPSJoZWlnaHQ6IDQ0cHgiCiAgICAgICAgICAgICAgICBAY2xpY2s9InBsYXlHYW1lSWZyYW1lIgogICAgICAgICAgICAgIC8+CiAgICAgICAgICAgICAgPHBsYXlCdXR0b24KICAgICAgICAgICAgICAgIDpsb2dpbi10ZXh0PSJsYW5nLnYuZGFfbG9nb3V0IgogICAgICAgICAgICAgICAgc3R5bGU9ImhlaWdodDogNDRweCIKICAgICAgICAgICAgICAgIEBjbGljaz0iJHJvdXRlci5nbygtMSkiCiAgICAgICAgICAgICAgLz4KICAgICAgICAgICAgPC9kaXY+CiAgICAgICAgICA8L2Rpdj4KICAgICAgICA8L2Rpdj4KICAgICAgICA8ZGl2IGNsYXNzPSJzbG90LWN1cnJlbmN5LWJsb2NrIiB2LXNob3c9ImlzUmVzdGFydCI+CiAgICAgICAgICA8ZGl2IGNsYXNzPSJzbG90LWNob29zZS1jdXJyZW5jeSI+CiAgICAgICAgICAgIDxkaXYgY2xhc3M9InNsb3QtY3VycmVuY3ktd3JhcCI+CiAgICAgICAgICAgICAgPHBsYXlCdXR0b24KICAgICAgICAgICAgICAgIDpsb2dpbi10ZXh0PSInUmVpbmljaWFyJyIKICAgICAgICAgICAgICAgIHN0eWxlPSJoZWlnaHQ6IDQ0cHgiCiAgICAgICAgICAgICAgICBAY2xpY2s9InJlc3RhcnQoKSIKICAgICAgICAgICAgICAvPgogICAgICAgICAgICA8L2Rpdj4KICAgICAgICAgIDwvZGl2PgogICAgICAgIDwvZGl2PgogICAgICAgIDxpZnJhbWUKICAgICAgICAgIGNsYXNzPSJzbG90LWZyYW1lIgogICAgICAgICAgZnJhbWVib3JkZXI9IjAiCiAgICAgICAgICBhbGxvd2Z1bGxzY3JlZW4KICAgICAgICAgIDpzcmNkb2M9ImlmcmFtZUh0bWwiCiAgICAgICAgICB2LWlmPSJnYW1lVHlwZSA9PSAxIgogICAgICAgID4KICAgICAgICA8L2lmcmFtZT4KICAgICAgICA8aWZyYW1lCiAgICAgICAgICBjbGFzcz0ic2xvdC1mcmFtZSIKICAgICAgICAgIDpzcmM9ImlmcmFtZVVybCIKICAgICAgICAgIGZyYW1lYm9yZGVyPSIwIgogICAgICAgICAgYWxsb3dmdWxsc2NyZWVuCiAgICAgICAgICB2LWVsc2UKICAgICAgICA+CiAgICAgICAgPC9pZnJhbWU+CgogICAgICAgIDxQR1F1aXQgdi1pZj0iaXNQaG9uZSgpIiAvPgogICAgICA8L2Rpdj4KICAgIDwvZGl2PgogIDwvZGl2Pgo="},{"version":3,"sources":["/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/home/other/PartyGames.vue"],"names":[],"mappings":"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","file":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/home/other/PartyGames.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"wrapper-inner\">\n    <div class=\"container\">\n      <div class=\"slot-game\">\n        <ChatsLodding v-if=\"!iframeLoaded\" />\n        <div class=\"slot-currency-block\" v-show=\"!user.data\">\n          <div class=\"slot-choose-currency\">\n            <div class=\"slot-currency-wrap\">\n              <FeedbackButton\n                :login-text=\"lang.v.par_play\"\n                style=\"height: 44px\"\n                @click=\"playGameIframe\"\n              />\n              <playButton\n                :login-text=\"lang.v.da_logout\"\n                style=\"height: 44px\"\n                @click=\"$router.go(-1)\"\n              />\n            </div>\n          </div>\n        </div>\n        <div class=\"slot-currency-block\" v-show=\"isRestart\">\n          <div class=\"slot-choose-currency\">\n            <div class=\"slot-currency-wrap\">\n              <playButton\n                :login-text=\"'Reiniciar'\"\n                style=\"height: 44px\"\n                @click=\"restart()\"\n              />\n            </div>\n          </div>\n        </div>\n        <iframe\n          class=\"slot-frame\"\n          frameborder=\"0\"\n          allowfullscreen\n          :srcdoc=\"iframeHtml\"\n          v-if=\"gameType == 1\"\n        >\n        </iframe>\n        <iframe\n          class=\"slot-frame\"\n          :src=\"iframeUrl\"\n          frameborder=\"0\"\n          allowfullscreen\n          v-else\n        >\n        </iframe>\n\n        <PGQuit v-if=\"isPhone()\" />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport dataCenter from '@/dataCenter';\nimport { falsePG, loginGame } from '@/games';\nimport { lang } from '@/lang';\nimport { getRouter, openModal } from '@/manager/view';\nimport { isPhone } from '@/utils';\nimport ChatsLodding from '@/views/chats/ChatsLodding.vue';\nimport playButton from '@/views/home/head/popup/walletSix/headButtonPop.vue';\nimport LoginWidget from '@/views/home/login/Login.vue';\nimport PGQuit from '@/views/home/other/widget/PGQuit.vue';\nimport QueryString from 'qs';\nimport { defineComponent, ref, watch } from 'vue';\nimport { useRoute } from 'vue-router';\nimport { user } from '@/dataCenter/user';\nimport FeedbackButton from '../casino/about/FeedbackButton.vue';\nimport { tip } from '@/components/warn/warn';\nimport { gameLogin, pgLoginGame, ppLoginGame } from '../api';\nexport default defineComponent({\n  components: {\n    playButton,\n    ChatsLodding,\n    PGQuit,\n    FeedbackButton,\n  },\n  data() {\n    return {\n      lang,\n      user: dataCenter.user,\n    };\n  },\n  setup() {\n    const iframeLoaded = ref(false);\n    const iframeUrl = ref('');\n    const iframeHtml = ref('');\n    const route = useRoute();\n    const gameId = route.query.id as string;\n    const groupId = route.query.groupId as string;\n    const gameType = ref<number>();\n    let lange = route.query.lange as string;\n    const isRestart = ref(false);\n    function loadGame(langeItem: string) {\n      const extraParams = route.query.gameUrl as string;\n      gameLogin(gameId, lange).then((resp) => {\n        if (!resp) return;\n\n        gameType.value = resp.type;\n        switch (resp.type) {\n          case 0:\n            iframeUrl.value = resp.msg;\n            break;\n          case 1:\n            iframeHtml.value = resp.msg;\n            break;\n          case 2:\n            {\n              const device = isPhone() ? 'm' : 'd';\n              if (resp.msg.includes('?')) {\n                iframeUrl.value = `https:${\n                  resp.msg\n                }&lang=${langeItem}&device=${device}${atob(extraParams || '')}`;\n              } else {\n                iframeUrl.value = `https:${\n                  resp.msg\n                }?lang=${langeItem}&device=${device}${atob(extraParams || '')}`;\n              }\n            }\n\n            break;\n\n          default:\n            break;\n        }\n        iframeLoaded.value = true;\n      });\n    }\n    if (gameId) {\n      if (dataCenter.user.data) {\n        loadGame(lange);\n      } else {\n        watch(\n          () => dataCenter.user,\n          (user) => {\n            if (user.data) {\n              loadGame(lange);\n            }\n          },\n        );\n      }\n    }\n\n    function playGameIframe() {\n      if (dataCenter.user.data) {\n        iframeLoaded.value = true;\n      } else {\n        openModal(LoginWidget);\n      }\n    }\n    function restart() {\n      isRestart.value = false;\n      loadGame(lange);\n    }\n\n    watch(\n      () => lang.m,\n      (newLang, oldLang) => {\n        if (newLang !== oldLang) {\n          loadGame(newLang);\n          location.reload();\n        }\n      },\n    );\n    watch(\n      () => dataCenter.user.data,\n      () => {\n        if (user.data) {\n          getRouter().go(-1);\n          // loadGame(lange);\n        }\n      },\n    );\n\n    return {\n      iframeLoaded,\n      iframeUrl,\n      iframeHtml,\n      playGameIframe,\n      gameId,\n      isPhone,\n      restart,\n      isRestart,\n      gameType,\n    };\n  },\n  beforeCreate() {\n    dataCenter.gameConfiguration.gameId = parseInt(this.gameId);\n  },\n  beforeUnmount() {\n    dataCenter.gameConfiguration.gameId = 0;\n  },\n});\n</script>\n\n<!-- 三方游戏 -->\n<style lang=\"less\" scoped>\n.wrapper-inner {\n  padding: 34px 0;\n  flex: 1 1;\n  min-height: 400px;\n  display: flex;\n  justify-content: center; /* 水平居中 */\n  align-items: center; /* 垂直居中 */\n}\n.container {\n  margin: 0 auto;\n  max-width: 1088px;\n  padding-left: 24px;\n  padding-right: 24px;\n  position: relative;\n  width: 100%;\n}\n.slot-game {\n  align-items: center;\n  display: flex;\n  height: calc(100vh - 220px);\n  justify-content: center;\n  max-height: 800px;\n  position: relative;\n}\n.slot-currency-block {\n  align-items: center;\n  background-color: rgba(22, 31, 44, 0.9);\n  background-size: 100% 100%;\n  border-radius: 14px;\n  bottom: -1px;\n  display: flex;\n  justify-content: center;\n  left: -1px;\n  position: absolute;\n  right: -1px;\n  top: -1px;\n  z-index: 2;\n}\n.slot-choose-currency {\n  display: flex;\n  flex-direction: column;\n}\n.slot-currency-wrap {\n  align-items: center;\n  display: flex;\n  gap: 12px;\n  margin-bottom: 16px;\n}\n.slot-frame {\n  border-radius: 14px;\n  height: 100%;\n  left: 0;\n  position: absolute;\n  top: 0;\n  width: 100%;\n  min-height: 320px;\n}\n@media only screen and (max-width: 768px) {\n  .wrapper-inner {\n    padding-bottom: 10px;\n    padding-top: 10px;\n  }\n  .container {\n    padding-left: 16px;\n    padding-right: 16px;\n  }\n  .slot-game {\n    background-color: #000;\n    bottom: 0;\n    height: 100vh;\n    left: 0;\n    margin-top: 0;\n    max-height: 100%;\n    position: fixed !important;\n    right: 0;\n    top: 0;\n    z-index: 225;\n  }\n  .slot-currency-block {\n    align-items: center;\n    background-color: rgba(22, 31, 44, 0.9);\n    background-size: 100% 100%;\n    border-radius: 0px;\n    bottom: -1px;\n    display: flex;\n    justify-content: center;\n    left: -1px;\n    position: absolute;\n    right: -1px;\n    top: -1px;\n    z-index: 2;\n  }\n  .slot-frame {\n    border-radius: 0px;\n    height: 100%;\n    left: 0;\n    position: absolute;\n    top: 0;\n    width: 100%;\n  }\n}\n</style>\n"]}]}