{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue?vue&type=template&id=345046b4&scoped=true&ts=true","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue","mtime":1716171553023},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1716171609809},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBjbGFzcz0iY2hhdHMiIDpjbGFzcz0ieyBmb2xkOiAhbGF5b3V0LmlzQ2hhdE9wZW4oKSB9Ij4KICAgIDxkaXYgY2xhc3M9ImxvYWRpbmciIHYtc2hvdz0iZGF0YUxvYWRpbmciPgogICAgICA8Q2hhdHNMb2RkaW5nPjwvQ2hhdHNMb2RkaW5nPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJjb250YWluZXIiIHYtc2hvdz0iIWRhdGFMb2FkaW5nIj4KICAgICAgPENoYXRzSGVhZGVyPjwvQ2hhdHNIZWFkZXI+CiAgICAgIDxDaGF0c0FyZWEKICAgICAgICA6bWVzc2FnZS1saXN0PSJjaGF0Um9vbS5saXN0LnNsaWNlKC0yMDApIgogICAgICAgIHJlZj0iY2hhdHNBcmVhIgogICAgICAgIEByZXBseUNsaWNrPSJyZXBseUNsaWNrIgogICAgICA+CiAgICAgIDwvQ2hhdHNBcmVhPgogICAgICA8Q2hhdHNGb290ZXIKICAgICAgICBAc2VuZE1lc3NhZ2U9InNlbmRNZXNzYWdlIgogICAgICAgIEBjYW5jZWxSZXBseT0iY2FuY2VsUmVwbHkiCiAgICAgICAgOm1zZ0l0ZW09ImNoYXRSb29tLnJlcGx5IgogICAgICA+PC9DaGF0c0Zvb3Rlcj4KICAgIDwvZGl2PgogIDwvZGl2Pgo="},{"version":3,"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue"],"names":[],"mappings":"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","file":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"chats\" :class=\"{ fold: !layout.isChatOpen() }\">\n    <div class=\"loading\" v-show=\"dataLoading\">\n      <ChatsLodding></ChatsLodding>\n    </div>\n    <div class=\"container\" v-show=\"!dataLoading\">\n      <ChatsHeader></ChatsHeader>\n      <ChatsArea\n        :message-list=\"chatRoom.list.slice(-200)\"\n        ref=\"chatsArea\"\n        @replyClick=\"replyClick\"\n      >\n      </ChatsArea>\n      <ChatsFooter\n        @sendMessage=\"sendMessage\"\n        @cancelReply=\"cancelReply\"\n        :msgItem=\"chatRoom.reply\"\n      ></ChatsFooter>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport dataCenter from '@/dataCenter';\nimport { ChatData } from '@/dataCenter/chatRoom';\nimport { defineComponent } from 'vue';\nimport ChatsArea from './chatsArea/ChatsArea.vue';\nimport ChatsLodding from './ChatsLodding.vue';\nimport ChatsFooter from './footer/ChatsFooter.vue';\nimport ChatsHeader from './header/ChatsHeader.vue';\ninterface ChildRef {\n  scrollToButtom(): void;\n}\nexport default defineComponent({\n  name: 'chats',\n  data() {\n    return {\n      layout: dataCenter.layout,\n      dataLoading: true,\n      chatRoom: dataCenter.chatRoom,\n    };\n  },\n  methods: {\n    //发送消息\n    sendMessage(message: string) {\n      if (message == '') return;\n      // 回复的设置集成到chatRoom了\n      dataCenter.chatRoom.sendTextChat(message);\n    },\n    replyClick(msgItem: ChatData) {\n      dataCenter.chatRoom.reply = msgItem;\n    },\n    cancelReply() {\n      dataCenter.chatRoom.reply = undefined;\n    },\n  },\n  mounted() {\n    dataCenter.chatRoom.init().then(() => {\n      const chatsArea = this.$refs.chatsArea as ChildRef;\n      if (chatsArea) {\n        this.$nextTick(() => {\n          this.dataLoading = false;\n          chatsArea.scrollToButtom();\n        });\n      }\n    });\n  },\n\n  components: {\n    ChatsHeader,\n    ChatsArea,\n    ChatsFooter,\n    ChatsLodding,\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n.chats {\n  width: 325px;\n  box-sizing: border-box;\n  height: 100%;\n  overflow-y: scroll;\n  color: #93acd3;\n  font-size: 14px;\n  font-weight: 600;\n  background-color: #111923;\n  box-shadow: 6px 4px 10px #0d131c66;\n  font-family: Montserrat Variable, sans-serif;\n  overflow: hidden;\n  transition: width 0.2s ease-in-out;\n\n  &::-webkit-scrollbar {\n    background-color: #2a3546;\n    border-radius: 2px;\n    height: 4px;\n    width: 4px;\n  }\n\n  &.fold {\n    width: 0px;\n  }\n\n  .container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n}\n.loading {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n@media only screen and (max-width: 767px) {\n  .chats {\n    position: absolute;\n    right: 0;\n    width: 100%;\n    z-index: 100;\n  }\n}\n</style>\n"]}]}