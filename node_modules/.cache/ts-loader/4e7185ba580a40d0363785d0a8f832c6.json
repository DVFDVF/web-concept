{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/manager/eventBus.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/manager/eventBus.ts","mtime":1716171553014},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7Ci8vIEV2ZW50QnVzLnRzCmNsYXNzIEV2ZW50QnVzIHsKICBjb25zdHJ1Y3RvcigpIHsKICAgIHRoaXMuZXZlbnRzID0ge307CiAgfQogIG9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIGxldCBsaXN0ZW5zID0gdGhpcy5ldmVudHNbZXZlbnROYW1lXTsKICAgIGlmICghbGlzdGVucykgewogICAgICB0aGlzLmV2ZW50c1tldmVudE5hbWVdID0gbGlzdGVucyA9IFtdOwogICAgfQogICAgaWYgKGxpc3RlbnMuaW5jbHVkZXMoY2FsbGJhY2spKSByZXR1cm47CiAgICBsaXN0ZW5zLnB1c2goY2FsbGJhY2spOwogIH0KICBlbWl0KGV2ZW50TmFtZSwgZGF0YSkgewogICAgY29uc3QgbGlzdGVucyA9IHRoaXMuZXZlbnRzW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbnMpIHJldHVybjsKICAgIGNvbnN0IGludm9rZXMgPSBsaXN0ZW5zLmNvbmNhdCgpOwogICAgaW52b2tlcy5mb3JFYWNoKGNhbGxiYWNrID0+IGNhbGxiYWNrKGRhdGEpKTsKICB9CiAgb2ZmKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIGNvbnN0IGxpc3RlbnMgPSB0aGlzLmV2ZW50c1tldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5zKSByZXR1cm47CiAgICBjb25zdCBpbmRleCA9IGxpc3RlbnMuaW5kZXhPZihjYWxsYmFjayk7CiAgICBpZiAoaW5kZXggPj0gMCkgewogICAgICBsaXN0ZW5zLnNwbGljZShpbmRleCwgMSk7CiAgICB9CiAgfQp9CmV4cG9ydCBkZWZhdWx0IG5ldyBFdmVudEJ1cygpOwpleHBvcnQgdmFyIEV2ZW50czsKKGZ1bmN0aW9uIChFdmVudHMpIHsKICBFdmVudHNbIk1PTkVZX0NIQU5HRSJdID0gIjAiOwp9KShFdmVudHMgfHwgKEV2ZW50cyA9IHt9KSk7"},{"version":3,"names":["EventBus","constructor","events","on","eventName","callback","listens","includes","push","emit","data","invokes","concat","forEach","off","index","indexOf","splice","Events"],"sources":["/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/manager/eventBus.ts"],"sourcesContent":["// EventBus.ts\n\ntype CallbackFunc = (data: any) => void;\nclass EventBus {\n  private events: { [key: string]: CallbackFunc[] } = {};\n\n  on(eventName: string, callback: CallbackFunc): void {\n    let listens = this.events[eventName];\n    if (!listens) {\n      this.events[eventName] = listens = [];\n    }\n    if (listens.includes(callback)) return;\n    listens.push(callback);\n  }\n\n  emit(eventName: string, data?: any): void {\n    const listens = this.events[eventName];\n    if (!listens) return;\n    const invokes = listens.concat();\n    invokes.forEach((callback) => callback(data));\n  }\n\n  off(eventName: string, callback: CallbackFunc): void {\n    const listens = this.events[eventName];\n    if (!listens) return;\n    const index = listens.indexOf(callback);\n    if (index >= 0) {\n      listens.splice(index, 1);\n    }\n  }\n}\n\nexport default new EventBus();\n\nexport enum Events {\n  MONEY_CHANGE = '0',\n}\n"],"mappings":";AAAA;AAGA,MAAMA,QAAQ;EAAdC,YAAA;IACU,KAAAC,MAAM,GAAsC,EAAE;EA0BxD;EAxBEC,EAAEA,CAACC,SAAiB,EAAEC,QAAsB;IAC1C,IAAIC,OAAO,GAAG,IAAI,CAACJ,MAAM,CAACE,SAAS,CAAC;IACpC,IAAI,CAACE,OAAO,EAAE;MACZ,IAAI,CAACJ,MAAM,CAACE,SAAS,CAAC,GAAGE,OAAO,GAAG,EAAE;;IAEvC,IAAIA,OAAO,CAACC,QAAQ,CAACF,QAAQ,CAAC,EAAE;IAChCC,OAAO,CAACE,IAAI,CAACH,QAAQ,CAAC;EACxB;EAEAI,IAAIA,CAACL,SAAiB,EAAEM,IAAU;IAChC,MAAMJ,OAAO,GAAG,IAAI,CAACJ,MAAM,CAACE,SAAS,CAAC;IACtC,IAAI,CAACE,OAAO,EAAE;IACd,MAAMK,OAAO,GAAGL,OAAO,CAACM,MAAM,EAAE;IAChCD,OAAO,CAACE,OAAO,CAAER,QAAQ,IAAKA,QAAQ,CAACK,IAAI,CAAC,CAAC;EAC/C;EAEAI,GAAGA,CAACV,SAAiB,EAAEC,QAAsB;IAC3C,MAAMC,OAAO,GAAG,IAAI,CAACJ,MAAM,CAACE,SAAS,CAAC;IACtC,IAAI,CAACE,OAAO,EAAE;IACd,MAAMS,KAAK,GAAGT,OAAO,CAACU,OAAO,CAACX,QAAQ,CAAC;IACvC,IAAIU,KAAK,IAAI,CAAC,EAAE;MACdT,OAAO,CAACW,MAAM,CAACF,KAAK,EAAE,CAAC,CAAC;;EAE5B;;AAGF,eAAe,IAAIf,QAAQ,EAAE;AAE7B,WAAYkB,MAEX;AAFD,WAAYA,MAAM;EAChBA,MAAA,sBAAkB;AACpB,CAAC,EAFWA,MAAM,KAANA,MAAM"}]}