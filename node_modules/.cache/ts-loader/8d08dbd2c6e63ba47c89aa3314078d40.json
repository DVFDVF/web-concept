{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/store/wallet.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/store/wallet.ts","mtime":1716171553015},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGNvbnN0IHdhbGxldCA9IHsKICBzdGF0ZTogewogICAgYmFsYW5jZToge30sCiAgICBjdXJyZW5jeTogMAogIH0sCiAgbXV0YXRpb25zOiB7CiAgICB1cGRhdGVXYWxsZXQoc3RhdGUsIGJhbGFuY2UpIHsKICAgICAgaWYgKCFiYWxhbmNlKSByZXR1cm47CiAgICAgIGJhbGFuY2UuZm9yRWFjaChlbGVtZW50ID0+IHsKICAgICAgICBzdGF0ZS5iYWxhbmNlW2VsZW1lbnQuY3VycmVuY3lJZF0gPSBlbGVtZW50OwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VCYWxhbmNlKHN0YXRlLCB1cGRhdGVyKSB7CiAgICAgIGNvbnN0IGl0ZW0gPSBzdGF0ZS5iYWxhbmNlW3VwZGF0ZXIuY3VycmVuY3lJZF07CiAgICAgIGlmIChpdGVtKSB7CiAgICAgICAgaXRlbS52YWx1ZSArPSB1cGRhdGVyLnZhbHVlOwogICAgICB9CiAgICB9LAogICAgc2VsZWN0Q3VycmVuY3koc3RhdGUsIGN1cnJlbmN5KSB7CiAgICAgIHN0YXRlLmN1cnJlbmN5ID0gY3VycmVuY3k7CiAgICB9CiAgfSwKICBnZXR0ZXJzOiB7CiAgICBnZXRCYWxhbmNlOiBzdGF0ZSA9PiB7CiAgICAgIHZhciBfc3RhdGUkYmFsYW5jZSRzdGF0ZSQ7CiAgICAgIHJldHVybiAoKF9zdGF0ZSRiYWxhbmNlJHN0YXRlJCA9IHN0YXRlLmJhbGFuY2Vbc3RhdGUuY3VycmVuY3ldKSA9PT0gbnVsbCB8fCBfc3RhdGUkYmFsYW5jZSRzdGF0ZSQgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9zdGF0ZSRiYWxhbmNlJHN0YXRlJC52YWx1ZSkgfHwgMDsKICAgIH0sCiAgICBnZXRDdXJyZW5jeTogc3RhdGUgPT4gewogICAgICByZXR1cm4gc3RhdGUuY3VycmVuY3k7CiAgICB9CiAgfSwKICBhY3Rpb25zOiB7fQp9Ow=="},{"version":3,"names":["wallet","state","balance","currency","mutations","updateWallet","forEach","element","currencyId","changeBalance","updater","item","value","selectCurrency","getters","getBalance","_state$balance$state$","getCurrency","actions"],"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/store/wallet.ts"],"sourcesContent":["import { BabalceRespItem } from '@/views/home/api/user-api/headProtocol';\nimport { Module } from 'vuex';\n\nexport type Balance = Record<number, BabalceRespItem>;\n\nexport interface Updater {\n  currencyId: number;\n  value: number;\n}\nexport interface Wallet {\n  balance: Balance;\n  /**选中的货币 */\n  currency: number;\n}\n\nexport const wallet: Module<Wallet, any> = {\n  state: { balance: {}, currency: 0 },\n  mutations: {\n    updateWallet(state, balance?: BabalceRespItem[]) {\n      if (!balance) return;\n      balance.forEach((element) => {\n        state.balance[element.currencyId] = element;\n      });\n    },\n    changeBalance(state, updater: Updater) {\n      const item = state.balance[updater.currencyId];\n      if (item) {\n        item.value += updater.value;\n      }\n    },\n    selectCurrency(state, currency: number) {\n      state.currency = currency;\n    },\n  },\n  getters: {\n    getBalance: (state) => {\n      return state.balance[state.currency]?.value || 0;\n    },\n    getCurrency: (state) => {\n      return state.currency\n    },\n  },\n  actions: {},\n};\n"],"mappings":"AAeA,OAAO,MAAMA,MAAM,GAAwB;EACzCC,KAAK,EAAE;IAAEC,OAAO,EAAE,EAAE;IAAEC,QAAQ,EAAE;EAAC,CAAE;EACnCC,SAAS,EAAE;IACTC,YAAYA,CAACJ,KAAK,EAAEC,OAA2B;MAC7C,IAAI,CAACA,OAAO,EAAE;MACdA,OAAO,CAACI,OAAO,CAAEC,OAAO,IAAI;QAC1BN,KAAK,CAACC,OAAO,CAACK,OAAO,CAACC,UAAU,CAAC,GAAGD,OAAO;MAC7C,CAAC,CAAC;IACJ,CAAC;IACDE,aAAaA,CAACR,KAAK,EAAES,OAAgB;MACnC,MAAMC,IAAI,GAAGV,KAAK,CAACC,OAAO,CAACQ,OAAO,CAACF,UAAU,CAAC;MAC9C,IAAIG,IAAI,EAAE;QACRA,IAAI,CAACC,KAAK,IAAIF,OAAO,CAACE,KAAK;;IAE/B,CAAC;IACDC,cAAcA,CAACZ,KAAK,EAAEE,QAAgB;MACpCF,KAAK,CAACE,QAAQ,GAAGA,QAAQ;IAC3B;GACD;EACDW,OAAO,EAAE;IACPC,UAAU,EAAGd,KAAK,IAAI;MAAA,IAAAe,qBAAA;MACpB,OAAO,EAAAA,qBAAA,GAAAf,KAAK,CAACC,OAAO,CAACD,KAAK,CAACE,QAAQ,CAAC,cAAAa,qBAAA,uBAA7BA,qBAAA,CAA+BJ,KAAK,KAAI,CAAC;IAClD,CAAC;IACDK,WAAW,EAAGhB,KAAK,IAAI;MACrB,OAAOA,KAAK,CAACE,QAAQ;IACvB;GACD;EACDe,OAAO,EAAE;CACV"}]}