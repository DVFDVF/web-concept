{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/other/game/scrolledList.vue?vue&type=script&setup=true&lang=ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/other/game/scrolledList.vue","mtime":1716171553048},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkucHVzaC5qcyI7CmltcG9ydCB7IGRlZmluZUNvbXBvbmVudCBhcyBfZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IHsgb25CZWZvcmVVbm1vdW50LCBvbk1vdW50ZWQsIHJlYWN0aXZlLCByZWYsIHdhdGNoIH0gZnJvbSAndnVlJzsKaW1wb3J0IFJvd0l0ZW0gZnJvbSAnQC92aWV3cy9ob21lL290aGVyL2dhbWUvd2lkZ2V0L1Jvd0l0ZW0udnVlJzsKaW1wb3J0IHsgZ2V0VXNlckludml0ZVVzZXIgfSBmcm9tICcuL2FwaSc7CmV4cG9ydCBkZWZhdWx0IC8qI19fUFVSRV9fKi9fZGVmaW5lQ29tcG9uZW50KHsKICBfX25hbWU6ICdzY3JvbGxlZExpc3QnLAogIHByb3BzOiB7CiAgICBhY3RpdmVCdXR0b246IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgcmVxdWlyZWQ6IHRydWUKICAgIH0KICB9LAogIHNldHVwKF9fcHJvcHMsIHsKICAgIGV4cG9zZTogX19leHBvc2UKICB9KSB7CiAgICBfX2V4cG9zZSgpOwogICAgY29uc3Qgc2hvd0l0ZW0gPSByZWYoMCk7CiAgICBjb25zdCB0aW1lciA9IHJlZigwKTsKICAgIGNvbnN0IHJlcG9ydCA9IHJlZihudWxsKTsKICAgIGNvbnN0IHByb3BzID0gX19wcm9wczsKICAgIGxldCByZWxhdG9yaW9EYXRhID0gcmVhY3RpdmUoW10pOwogICAgbGV0IG9yaWdpbkRhdGEgPSByZWYoW10pOwogICAgLy8g5b6q546v55Sf5oiQMTDmnaHmlbDmja7lubbmjqjpgIHliLAgcmVsYXRvcmlvRGF0YSDmlbDnu4TkuK0KICAgIGZ1bmN0aW9uIGdlbmVyYXRlRGF0YSgpIHsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCA1MDsgaSsrKSB7CiAgICAgICAgcmVsYXRvcmlvRGF0YS5wdXNoKHsKICAgICAgICAgIHVzZXJuYW1lOiBgVXNlcioqKioke1N0cmluZyhNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApKS5wYWRTdGFydCgyLCAnMCcpfWAsCiAgICAgICAgICBhZGRBbW91bnQ6IDEwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgICBnZW5lcmF0ZURhdGEoKTsKICAgIHdhdGNoKHByb3BzLCBuZXdWYWx1ZSA9PiB7CiAgICAgIGlmICghbmV3VmFsdWUuYWN0aXZlQnV0dG9uKSB7CiAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lci52YWx1ZSk7CiAgICAgICAgZ2V0VXNlckludml0ZVVzZXIoKS50aGVuKHJlc3AgPT4gewogICAgICAgICAgaWYgKCFyZXNwKSByZXR1cm47CiAgICAgICAgICBvcmlnaW5EYXRhLnZhbHVlID0gcmVzcDsKICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aW1lci52YWx1ZSA9IHNldEludGVydmFsKHNjcm9sbExpc3QsIDQwKTsKICAgICAgfQogICAgfSk7CiAgICBmdW5jdGlvbiBzY3JvbGxMaXN0KCkgewogICAgICAvLyBpZiAoc2hvd0l0ZW0udmFsdWUgPiByZWxhdG9yaW9EYXRhLmxlbmd0aCAtIDEwKSB7CiAgICAgIC8vICAgcmVsYXRvcmlvRGF0YS5wdXNoKC4uLnJlbGF0b3Jpb0RhdGEpOwogICAgICAvLyB9CiAgICAgIGlmIChyZXBvcnQudmFsdWUpIHsKICAgICAgICBpZiAocmVwb3J0LnZhbHVlLnNjcm9sbEhlaWdodCAtIHJlcG9ydC52YWx1ZS5zY3JvbGxUb3AgPT09IHJlcG9ydC52YWx1ZS5jbGllbnRIZWlnaHQpIHsKICAgICAgICAgIC8vIOWmguaenOa7muWKqOWIsOW6lemDqO+8jOWwhuesrOS4gOS4quWFg+e0oOenu+WKqOWIsOacq+Wwvu+8jOWunueOsOW+queOr+a7muWKqAogICAgICAgICAgcmVwb3J0LnZhbHVlLnNjcm9sbFRvcCA9IDA7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIC8vIOWQkeS4iua7muWKqOS4gOS4quWFg+e0oOeahOmrmOW6pgogICAgICAgICAgbGV0IGZpcnN0Q2hpbGQgPSByZXBvcnQudmFsdWUuY2hpbGRyZW5bMF07CiAgICAgICAgICBpZiAoZmlyc3RDaGlsZCkgewogICAgICAgICAgICByZXBvcnQudmFsdWUuc2Nyb2xsVG8oewogICAgICAgICAgICAgIHRvcDogcmVwb3J0LnZhbHVlLnNjcm9sbFRvcCArIDQsCiAgICAgICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBzaG93SXRlbS52YWx1ZSA9IE1hdGguZmxvb3IocmVwb3J0LnZhbHVlLnNjcm9sbFRvcCAvIGZpcnN0Q2hpbGQub2Zmc2V0SGVpZ2h0KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0KICAgIG9uTW91bnRlZCgoKSA9PiB7CiAgICAgIHRpbWVyLnZhbHVlID0gc2V0SW50ZXJ2YWwoc2Nyb2xsTGlzdCwgNDApOwogICAgfSk7CiAgICBvbkJlZm9yZVVubW91bnQoKCkgPT4gewogICAgICBjbGVhckludGVydmFsKHRpbWVyLnZhbHVlKTsKICAgIH0pOwogICAgY29uc3QgX19yZXR1cm5lZF9fID0gewogICAgICBzaG93SXRlbSwKICAgICAgdGltZXIsCiAgICAgIHJlcG9ydCwKICAgICAgcHJvcHMsCiAgICAgIGdldCByZWxhdG9yaW9EYXRhKCkgewogICAgICAgIHJldHVybiByZWxhdG9yaW9EYXRhOwogICAgICB9LAogICAgICBzZXQgcmVsYXRvcmlvRGF0YSh2KSB7CiAgICAgICAgcmVsYXRvcmlvRGF0YSA9IHY7CiAgICAgIH0sCiAgICAgIGdldCBvcmlnaW5EYXRhKCkgewogICAgICAgIHJldHVybiBvcmlnaW5EYXRhOwogICAgICB9LAogICAgICBzZXQgb3JpZ2luRGF0YSh2KSB7CiAgICAgICAgb3JpZ2luRGF0YSA9IHY7CiAgICAgIH0sCiAgICAgIGdlbmVyYXRlRGF0YSwKICAgICAgc2Nyb2xsTGlzdCwKICAgICAgUm93SXRlbQogICAgfTsKICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfX3JldHVybmVkX18sICdfX2lzU2NyaXB0U2V0dXAnLCB7CiAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICB2YWx1ZTogdHJ1ZQogICAgfSk7CiAgICByZXR1cm4gX19yZXR1cm5lZF9fOwogIH0KfSk7"},{"version":3,"names":["defineComponent","_defineComponent","onBeforeUnmount","onMounted","reactive","ref","watch","RowItem","getUserInviteUser","__name","props","activeButton","type","Boolean","required","setup","__props","expose","__expose","showItem","timer","report","relatorioData","originData","generateData","i","push","username","String","Math","floor","random","padStart","addAmount","newValue","clearInterval","value","then","resp","setInterval","scrollList","scrollHeight","scrollTop","clientHeight","firstChild","children","scrollTo","top","behavior","offsetHeight","__returned__","v","Object","defineProperty","enumerable"],"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/other/game/scrolledList.vue?vue&type=script&setup=true&lang=ts"],"sourcesContent":["import { defineComponent as _defineComponent } from 'vue'\nimport {\n  onBeforeUnmount,\n  onMounted,\n  reactive,\n  ref,\n  watch,\n} from 'vue';\nimport RowItem from '@/views/home/other/game/widget/RowItem.vue';\nimport { GetUserInviteUserResq } from './api/protocol';\nimport { getUserInviteUser } from './api';\n\nexport default /*#__PURE__*/_defineComponent({\n  __name: 'scrolledList',\n  props: {\n    activeButton: { type: Boolean, required: true }\n  },\n  setup(__props: any, { expose: __expose }) {\n  __expose();\n\nconst showItem = ref(0);\nconst timer = ref(0);\nconst report = ref<HTMLDivElement | null>(null);\nconst props = __props;\nlet relatorioData = reactive([] as GetUserInviteUserResq[]);\nlet originData = ref([] as GetUserInviteUserResq[]);\n// 循环生成10条数据并推送到 relatorioData 数组中\nfunction generateData() {\n  for (let i = 0; i < 50; i++) {\n    relatorioData.push({\n      username: `User****${String(Math.floor(Math.random() * 100)).padStart(\n        2,\n        '0',\n      )}`,\n      addAmount: 100,\n    });\n  }\n}\n\ngenerateData();\n\nwatch(props, (newValue) => {\n  if (!newValue.activeButton) {\n    clearInterval(timer.value);\n    getUserInviteUser().then((resp) => {\n      if (!resp) return;\n      originData.value = resp;\n    });\n  } else {\n    timer.value = setInterval(scrollList, 40);\n  }\n});\n\nfunction scrollList() {\n  // if (showItem.value > relatorioData.length - 10) {\n  //   relatorioData.push(...relatorioData);\n  // }\n  if (report.value) {\n    if (\n      report.value.scrollHeight - report.value.scrollTop ===\n      report.value.clientHeight\n    ) {\n      // 如果滚动到底部，将第一个元素移动到末尾，实现循环滚动\n      report.value.scrollTop = 0;\n    } else {\n      // 向上滚动一个元素的高度\n      let firstChild = report.value.children[0] as HTMLDivElement;\n      if (firstChild) {\n        report.value.scrollTo({\n          top: report.value.scrollTop + 4,\n          behavior: 'smooth',\n        });\n        showItem.value = Math.floor(\n          report.value.scrollTop / firstChild.offsetHeight,\n        );\n      }\n    }\n  }\n}\nonMounted(() => {\n  timer.value = setInterval(scrollList, 40);\n});\n\nonBeforeUnmount(() => {\n  clearInterval(timer.value);\n});\n\nconst __returned__ = { showItem, timer, report, props, get relatorioData() { return relatorioData }, set relatorioData(v) { relatorioData = v }, get originData() { return originData }, set originData(v) { originData = v }, generateData, scrollList, RowItem }\nObject.defineProperty(__returned__, '__isScriptSetup', { enumerable: false, value: true })\nreturn __returned__\n}\n\n})"],"mappings":"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"}]}