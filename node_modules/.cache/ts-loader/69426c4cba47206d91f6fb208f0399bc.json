{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/fury-client/src/utils/currency.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/src/utils/currency.ts","mtime":1716171553015},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8gQHRzLW5vY2hlY2sKaW1wb3J0IEJpZyBmcm9tICdiaWcuanMnOwovKirms5XlrprotKfluIHlkI3lrZcgKi8KY29uc3QgT0ZGSUNJQUxfQ1VSUkVOQ1lfTkFNRSA9ICdCUkwnOwpleHBvcnQgZnVuY3Rpb24gZXh0ZW5hbE9mZmljaWFsKGxpc3QsIGlzRXh0ZW5uYWwpIHsKICBpZiAoaXNFeHRlbm5hbCkgewogICAgcmV0dXJuIGxpc3QuZmlsdGVyKGl0ZW0gPT4gaXRlbS5uYW1lICE9PSBPRkZJQ0lBTF9DVVJSRU5DWV9OQU1FKTsKICB9CiAgcmV0dXJuIGxpc3Q7Cn0KZXhwb3J0IGZ1bmN0aW9uIHBpY2tPZmZpY2lhbChsaXN0KSB7CiAgcmV0dXJuIGxpc3QuZmluZChpdGVtID0+IGl0ZW0ubmFtZSA9PT0gT0ZGSUNJQUxfQ1VSUkVOQ1lfTkFNRSk7Cn0KLyoq5Zu65a6aOeS9jeWwj+aVsCAqLwpleHBvcnQgZnVuY3Rpb24gZm9ybWF0Rml4OU1vbmV5KHZhbHVlLCBjdXJyZW5jeSkgewogIHZhbHVlID0gdmFsdWUgfHwgMDsKICBpZiAoKGN1cnJlbmN5ID09PSBudWxsIHx8IGN1cnJlbmN5ID09PSB2b2lkIDAgPyB2b2lkIDAgOiBjdXJyZW5jeS5uYW1lKSA9PT0gT0ZGSUNJQUxfQ1VSUkVOQ1lfTkFNRSkgewogICAgcmV0dXJuIHRvRmxvb3IodmFsdWUsIDIpOwogIH0KICByZXR1cm4gdG9NYXhGaXhlZCh2YWx1ZSwgOSk7Cn0KLyoq5pmu6YCa5qC85byP5YyWICovCmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRNb25leSh2YWx1ZSwgY3VycmVuY3kpIHsKICB2YWx1ZSA9IHZhbHVlIHx8IDA7CiAgaWYgKChjdXJyZW5jeSA9PT0gbnVsbCB8fCBjdXJyZW5jeSA9PT0gdm9pZCAwID8gdm9pZCAwIDogY3VycmVuY3kubmFtZSkgPT09IE9GRklDSUFMX0NVUlJFTkNZX05BTUUpIHsKICAgIHJldHVybiB0b0Zsb29yKHZhbHVlLCAyKTsKICB9CiAgcmV0dXJuIHRvRmxvb3IodmFsdWUsIDYpOwp9CmNvbnN0IEZMT09SUyA9IFsxLCAxMCwgMTAwLCAxMDAwLCAxMDAwMCwgMTAwMDAwLCAxMDAwMDAwLCAxMDAwMDAwMCwgMTAwMDAwMDAwLCAxMDAwMDAwMDAwXTsKLyoq5ZCR5LiL5Y+W5pW055qE5qC85byP5YyW5bCP5pWw77yM5bm25LiU5bCP5pWw54K55Yqo5oCB5L+d55WZICovCmV4cG9ydCBmdW5jdGlvbiB0b0Zsb29yKHZhbHVlLCBsZW5ndGgpIHsKICBjb25zdCByZXQgPSBNYXRoLmZsb29yKG5ldyBCaWcodmFsdWUpLnRpbWVzKEZMT09SU1tsZW5ndGhdKSkgLyBGTE9PUlNbbGVuZ3RoXTsKICByZXR1cm4gcmV0LnRvRml4ZWQobGVuZ3RoKTsKfQpleHBvcnQgZnVuY3Rpb24gdG9NYXhGaXhlZCh2YWx1ZSwgbGVuZ3RoKSB7CiAgaWYgKHZhbHVlID49IEZMT09SU1tsZW5ndGhdKSByZXR1cm4gYCR7TWF0aC5mbG9vcih2YWx1ZSl9YDsKICByZXR1cm4gdG9GbG9vcih2YWx1ZSwgbGVuZ3RoKS5zbGljZSgwLCBsZW5ndGggKyAxKTsKfQ=="},{"version":3,"names":["Big","OFFICIAL_CURRENCY_NAME","extenalOfficial","list","isExtennal","filter","item","name","pickOfficial","find","formatFix9Money","value","currency","toFloor","toMaxFixed","formatMoney","FLOORS","length","ret","Math","floor","times","toFixed","slice"],"sources":["/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/fury-client/src/utils/currency.ts"],"sourcesContent":["// @ts-nocheck\nimport Big from 'big.js';\nimport { Currency } from '@/api/protocol';\n\n/**法定货币名字 */\nconst OFFICIAL_CURRENCY_NAME = 'BRL';\n\nexport function extenalOfficial(list: Currency[], isExtennal?: boolean) {\n  if (isExtennal) {\n    return list.filter((item) => item.name !== OFFICIAL_CURRENCY_NAME);\n  }\n  return list;\n}\n\nexport function pickOfficial(list: Currency[]) {\n  return list.find((item) => item.name === OFFICIAL_CURRENCY_NAME);\n}\n\n/**固定9位小数 */\nexport function formatFix9Money(value?: number, currency?: Currency) {\n  value = value || 0;\n  if (currency?.name === OFFICIAL_CURRENCY_NAME) {\n    return toFloor(value, 2);\n  }\n  return toMaxFixed(value, 9);\n}\n/**普通格式化 */\nexport function formatMoney(value?: number, currency?: Currency) {\n  value = value || 0;\n  if (currency?.name === OFFICIAL_CURRENCY_NAME) {\n    return toFloor(value, 2);\n  }\n  return toFloor(value, 6);\n}\n\nconst FLOORS = [\n  1, 10, 100, 1000, 10000, 100000, 1000000, 10000000, 100000000, 1000000000,\n];\n/**向下取整的格式化小数，并且小数点动态保留 */\nexport function toFloor(value: number, length: number) {\n  const ret = Math.floor(new Big(value).times(FLOORS[length])) / FLOORS[length];\n  return ret.toFixed(length);\n}\n\nexport function toMaxFixed(value: number, length: number) {\n  if (value >= FLOORS[length]) return `${Math.floor(value)}`;\n  return toFloor(value, length).slice(0, length + 1);\n}\n"],"mappings":"AAAA;AACA,OAAOA,GAAG,MAAM,QAAQ;AAGxB;AACA,MAAMC,sBAAsB,GAAG,KAAK;AAEpC,OAAM,SAAUC,eAAeA,CAACC,IAAgB,EAAEC,UAAoB;EACpE,IAAIA,UAAU,EAAE;IACd,OAAOD,IAAI,CAACE,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAKN,sBAAsB,CAAC;;EAEpE,OAAOE,IAAI;AACb;AAEA,OAAM,SAAUK,YAAYA,CAACL,IAAgB;EAC3C,OAAOA,IAAI,CAACM,IAAI,CAAEH,IAAI,IAAKA,IAAI,CAACC,IAAI,KAAKN,sBAAsB,CAAC;AAClE;AAEA;AACA,OAAM,SAAUS,eAAeA,CAACC,KAAc,EAAEC,QAAmB;EACjED,KAAK,GAAGA,KAAK,IAAI,CAAC;EAClB,IAAI,CAAAC,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEL,IAAI,MAAKN,sBAAsB,EAAE;IAC7C,OAAOY,OAAO,CAACF,KAAK,EAAE,CAAC,CAAC;;EAE1B,OAAOG,UAAU,CAACH,KAAK,EAAE,CAAC,CAAC;AAC7B;AACA;AACA,OAAM,SAAUI,WAAWA,CAACJ,KAAc,EAAEC,QAAmB;EAC7DD,KAAK,GAAGA,KAAK,IAAI,CAAC;EAClB,IAAI,CAAAC,QAAQ,aAARA,QAAQ,uBAARA,QAAQ,CAAEL,IAAI,MAAKN,sBAAsB,EAAE;IAC7C,OAAOY,OAAO,CAACF,KAAK,EAAE,CAAC,CAAC;;EAE1B,OAAOE,OAAO,CAACF,KAAK,EAAE,CAAC,CAAC;AAC1B;AAEA,MAAMK,MAAM,GAAG,CACb,CAAC,EAAE,EAAE,EAAE,GAAG,EAAE,IAAI,EAAE,KAAK,EAAE,MAAM,EAAE,OAAO,EAAE,QAAQ,EAAE,SAAS,EAAE,UAAU,CAC1E;AACD;AACA,OAAM,SAAUH,OAAOA,CAACF,KAAa,EAAEM,MAAc;EACnD,MAAMC,GAAG,GAAGC,IAAI,CAACC,KAAK,CAAC,IAAIpB,GAAG,CAACW,KAAK,CAAC,CAACU,KAAK,CAACL,MAAM,CAACC,MAAM,CAAC,CAAC,CAAC,GAAGD,MAAM,CAACC,MAAM,CAAC;EAC7E,OAAOC,GAAG,CAACI,OAAO,CAACL,MAAM,CAAC;AAC5B;AAEA,OAAM,SAAUH,UAAUA,CAACH,KAAa,EAAEM,MAAc;EACtD,IAAIN,KAAK,IAAIK,MAAM,CAACC,MAAM,CAAC,EAAE,OAAO,GAAGE,IAAI,CAACC,KAAK,CAACT,KAAK,CAAC,EAAE;EAC1D,OAAOE,OAAO,CAACF,KAAK,EAAEM,MAAM,CAAC,CAACM,KAAK,CAAC,CAAC,EAAEN,MAAM,GAAG,CAAC,CAAC;AACpD"}]}