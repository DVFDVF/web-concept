{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/api/fetcher.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/api/fetcher.ts","mtime":1719743363622},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgdG9rZW5Db250cm9sbGVyIH0gZnJvbSAnQC9tYW5hZ2VyL3Rva2VuJzsKaW1wb3J0IHsgZ2V0LCBwb3N0IH0gZnJvbSAnLic7CmltcG9ydCB7IEFVVE9fTE9HSU4sIFVTRVJfQlJJRUYsIFdFQl9DT05GSUcgfSBmcm9tICcuL3Byb3RvY29sJzsKZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGF1dG9Mb2dpbigpIHsKICBjb25zdCBmcmVzaFRva2VuID0gdG9rZW5Db250cm9sbGVyLmZyZXNoVG9rZW47CiAgaWYgKGZyZXNoVG9rZW4pIHsKICAgIHJldHVybiBwb3N0KEFVVE9fTE9HSU4sIHsKICAgICAgZnJlc2hUb2tlbgogICAgfSk7CiAgfQogIHJldHVybiB1bmRlZmluZWQ7Cn0KZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHdlYkNvbmZpZygpIHsKICB0cnkgewogICAgcmV0dXJuIGF3YWl0IGdldChXRUJfQ09ORklHKTsKICB9IGNhdGNoIChlcnJvcikgewogICAgY29uc29sZS5sb2coJ+ermeeCuemFjee9ruivt+axguWksei0pScpOwogIH0KfQovKioKICog5p+l6K+i55So5oi355qE566A5Y2V5L+h5oGvCiAqLwpleHBvcnQgYXN5bmMgZnVuY3Rpb24gcXVlcnlVc2VyQnJpZWYodXNlcklkcykgewogIHRyeSB7CiAgICByZXR1cm4gcG9zdChVU0VSX0JSSUVGLCB7CiAgICAgIHVzZXJJZHMKICAgIH0pOwogIH0gY2F0Y2ggKGVycm9yKSB7CiAgICByZXR1cm4gW107CiAgfQp9"},{"version":3,"names":["tokenController","get","post","AUTO_LOGIN","USER_BRIEF","WEB_CONFIG","autoLogin","freshToken","undefined","webConfig","error","console","log","queryUserBrief","userIds"],"sources":["/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/api/fetcher.ts"],"sourcesContent":["import { tokenController } from '@/manager/token';\nimport { get, post } from '.';\nimport {\n  AUTO_LOGIN,\n  AutoLoginResp,\n  USER_BRIEF,\n  UserBriefReq,\n  UserBriefRespItem,\n  WEB_CONFIG,\n  WebConfigResp,\n  MessageResp,\n  STATION_MESSAGE,\n} from './protocol';\n\nexport async function autoLogin() {\n  const freshToken = tokenController.freshToken;\n  if (freshToken) {\n    return post<AutoLoginResp, { freshToken: string }>(AUTO_LOGIN, {\n      freshToken,\n    });\n  }\n  return undefined;\n}\n\nexport async function webConfig() {\n  try {\n    return await get<WebConfigResp>(WEB_CONFIG);\n  } catch (error) {\n    console.log('站点配置请求失败');\n  }\n}\n\n/**\n * 查询用户的简单信息\n */\nexport async function queryUserBrief(userIds: number[]) {\n  try {\n    return post<UserBriefRespItem[], UserBriefReq>(USER_BRIEF, {\n      userIds,\n    });\n  } catch (error) {\n    return [];\n  }\n}\n"],"mappings":"AAAA,SAASA,eAAe,QAAQ,iBAAiB;AACjD,SAASC,GAAG,EAAEC,IAAI,QAAQ,GAAG;AAC7B,SACEC,UAAU,EAEVC,UAAU,EAGVC,UAAU,QAIL,YAAY;AAEnB,OAAO,eAAeC,SAASA,CAAA;EAC7B,MAAMC,UAAU,GAAGP,eAAe,CAACO,UAAU;EAC7C,IAAIA,UAAU,EAAE;IACd,OAAOL,IAAI,CAAwCC,UAAU,EAAE;MAC7DI;KACD,CAAC;;EAEJ,OAAOC,SAAS;AAClB;AAEA,OAAO,eAAeC,SAASA,CAAA;EAC7B,IAAI;IACF,OAAO,MAAMR,GAAG,CAAgBI,UAAU,CAAC;GAC5C,CAAC,OAAOK,KAAK,EAAE;IACdC,OAAO,CAACC,GAAG,CAAC,UAAU,CAAC;;AAE3B;AAEA;;;AAGA,OAAO,eAAeC,cAAcA,CAACC,OAAiB;EACpD,IAAI;IACF,OAAOZ,IAAI,CAAoCE,UAAU,EAAE;MACzDU;KACD,CAAC;GACH,CAAC,OAAOJ,KAAK,EAAE;IACd,OAAO,EAAE;;AAEb"}]}