{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/chats/index.vue?vue&type=style&index=0&id=345046b4&lang=less&scoped=true","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/chats/index.vue","mtime":1716171553023},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/css-loader/dist/cjs.js","mtime":1716171609309},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/vue-loader-v16/dist/stylePostLoader.js","mtime":1716171609792},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/postcss-loader/src/index.js","mtime":1716171609472},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/less-loader/dist/cjs.js","mtime":1716171609345},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ci5jaGF0cyB7CiAgd2lkdGg6IDMyNXB4OwogIGJveC1zaXppbmc6IGJvcmRlci1ib3g7CiAgaGVpZ2h0OiAxMDAlOwogIG92ZXJmbG93LXk6IHNjcm9sbDsKICBjb2xvcjogIzkzYWNkMzsKICBmb250LXNpemU6IDE0cHg7CiAgZm9udC13ZWlnaHQ6IDYwMDsKICBiYWNrZ3JvdW5kLWNvbG9yOiAjMTExOTIzOwogIGJveC1zaGFkb3c6IDZweCA0cHggMTBweCAjMGQxMzFjNjY7CiAgZm9udC1mYW1pbHk6IE1vbnRzZXJyYXQgVmFyaWFibGUsIHNhbnMtc2VyaWY7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICB0cmFuc2l0aW9uOiB3aWR0aCAwLjJzIGVhc2UtaW4tb3V0OwoKICAmOjotd2Via2l0LXNjcm9sbGJhciB7CiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjMmEzNTQ2OwogICAgYm9yZGVyLXJhZGl1czogMnB4OwogICAgaGVpZ2h0OiA0cHg7CiAgICB3aWR0aDogNHB4OwogIH0KCiAgJi5mb2xkIHsKICAgIHdpZHRoOiAwcHg7CiAgfQoKICAuY29udGFpbmVyIHsKICAgIGRpc3BsYXk6IGZsZXg7CiAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uOwogICAgaGVpZ2h0OiAxMDAlOwogIH0KfQoubG9hZGluZyB7CiAgZGlzcGxheTogZmxleDsKICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjsKICBhbGlnbi1pdGVtczogY2VudGVyOwogIGhlaWdodDogMTAwJTsKfQoKQG1lZGlhIG9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NjdweCkgewogIC5jaGF0cyB7CiAgICBwb3NpdGlvbjogYWJzb2x1dGU7CiAgICByaWdodDogMDsKICAgIHdpZHRoOiAxMDAlOwogICAgei1pbmRleDogMTAwOwogIH0KfQo="},{"version":3,"sources":["/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/chats/index.vue"],"names":[],"mappings":"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","file":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/views/chats/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"chats\" :class=\"{ fold: !layout.isChatOpen() }\">\n    <div class=\"loading\" v-show=\"dataLoading\">\n      <ChatsLodding></ChatsLodding>\n    </div>\n    <div class=\"container\" v-show=\"!dataLoading\">\n      <ChatsHeader></ChatsHeader>\n      <ChatsArea\n        :message-list=\"chatRoom.list.slice(-200)\"\n        ref=\"chatsArea\"\n        @replyClick=\"replyClick\"\n      >\n      </ChatsArea>\n      <ChatsFooter\n        @sendMessage=\"sendMessage\"\n        @cancelReply=\"cancelReply\"\n        :msgItem=\"chatRoom.reply\"\n      ></ChatsFooter>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport dataCenter from '@/dataCenter';\nimport { ChatData } from '@/dataCenter/chatRoom';\nimport { defineComponent } from 'vue';\nimport ChatsArea from './chatsArea/ChatsArea.vue';\nimport ChatsLodding from './ChatsLodding.vue';\nimport ChatsFooter from './footer/ChatsFooter.vue';\nimport ChatsHeader from './header/ChatsHeader.vue';\ninterface ChildRef {\n  scrollToButtom(): void;\n}\nexport default defineComponent({\n  name: 'chats',\n  data() {\n    return {\n      layout: dataCenter.layout,\n      dataLoading: true,\n      chatRoom: dataCenter.chatRoom,\n    };\n  },\n  methods: {\n    //发送消息\n    sendMessage(message: string) {\n      if (message == '') return;\n      // 回复的设置集成到chatRoom了\n      dataCenter.chatRoom.sendTextChat(message);\n    },\n    replyClick(msgItem: ChatData) {\n      dataCenter.chatRoom.reply = msgItem;\n    },\n    cancelReply() {\n      dataCenter.chatRoom.reply = undefined;\n    },\n  },\n  mounted() {\n    dataCenter.chatRoom.init().then(() => {\n      const chatsArea = this.$refs.chatsArea as ChildRef;\n      if (chatsArea) {\n        this.$nextTick(() => {\n          this.dataLoading = false;\n          chatsArea.scrollToButtom();\n        });\n      }\n    });\n  },\n\n  components: {\n    ChatsHeader,\n    ChatsArea,\n    ChatsFooter,\n    ChatsLodding,\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n.chats {\n  width: 325px;\n  box-sizing: border-box;\n  height: 100%;\n  overflow-y: scroll;\n  color: #93acd3;\n  font-size: 14px;\n  font-weight: 600;\n  background-color: #111923;\n  box-shadow: 6px 4px 10px #0d131c66;\n  font-family: Montserrat Variable, sans-serif;\n  overflow: hidden;\n  transition: width 0.2s ease-in-out;\n\n  &::-webkit-scrollbar {\n    background-color: #2a3546;\n    border-radius: 2px;\n    height: 4px;\n    width: 4px;\n  }\n\n  &.fold {\n    width: 0px;\n  }\n\n  .container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n}\n.loading {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n@media only screen and (max-width: 767px) {\n  .chats {\n    position: absolute;\n    right: 0;\n    width: 100%;\n    z-index: 100;\n  }\n}\n</style>\n"]}]}