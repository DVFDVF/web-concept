{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/manager/view.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/src/manager/view.ts","mtime":1719743901753},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlQXBwIH0gZnJvbSAndnVlJzsKbGV0IHpJbmRleCA9IDEwMDA7Ci8qKgogKiDmiZPlvIDkvY3kuo7pobblsYLnmoTlvLnnqpcKICogQHBhcmFtIGFwcCB2dWXmqKHlnZcKICogQHBhcmFtIG9wdGlvbnMg5Lyg57uZdnVlbeaooeWdl+eahOWPguaVsAogKiBAcmV0dXJucyB7dm0sY2xvc2UsY29udGFpbmVyfSB2bm9kZeS4unZ1ZeeUn+aIkOeahOiZmuaLn+iKgueCue+8jAogKiDlj6/ku6XosIPnlKjlh73mlbAuY2xvc2XkuLrlpJbpg6jlj6/ku6XkuLvliqjosIPnlKjnmoTlhbPpl63lh73mlbDvvJsKICogY29udGFpbmVy5piv5by556qX55qE5a655Zmo77yM5Y+v5Lul6LCD55SoY2xhc3NMaXN0LmFkZOadpeWKqOaAgeWinuWKoOagt+W8jwogKi8KZXhwb3J0IGZ1bmN0aW9uIG9wZW5Nb2RhbChhcHAsIG9wdGlvbnMpIHsKICAvLyDlpoLmnpzlt7Lnu4/miZPlvIDkuobvvIzlsLHkuI3ph43lpI3miZPlvIDkuoYKICBpZiAoYXBwLl9faXNPcGVuKSByZXR1cm47CiAgY29uc3Qgdm0gPSBjcmVhdGVBcHAoYXBwLCBvcHRpb25zKTsKICB2bS5jb21wb25lbnQoJ0ltYWdlJywgSW1hZ2UpOwogIGNvbnN0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZGl2KTsKICAvLyDooaXlhYXokpnniYjmoLflvI/vvIzlkozlsYXkuK3mlYjmnpwKICBkaXYuY2xhc3NOYW1lID0gJ3RvcC1sYXllciBjZW50ZXInOwogIGRpdi5zdHlsZS56SW5kZXggPSBgJHsrK3pJbmRleH1gOwogIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogIGNvbnRhaW5lci5jbGFzc05hbWUgPSAnY29udGFpbmVyJzsKICBkaXYuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTsKICBjb25zdCBib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsKICBjb250YWluZXIuYXBwZW5kQ2hpbGQoYm94KTsKICBjb25zdCBjbG9zZSA9IChldmVudCwgaXNhbmltLCB0aW1lLCBtb3VudCkgPT4gewogICAgaWYgKGlzYW5pbSkgewogICAgICBkaXYuc3R5bGUudHJhbnNpdGlvbiA9ICdiYWNrZ3JvdW5kIDAuM3MnOwogICAgICBkaXYuc3R5bGUuYmFja2dyb3VuZCA9ICdyZ2JhKDAsIDAsIDAsIDApJzsKICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgdm0udW5tb3VudCgpOwogICAgICAgIGRpdi5yZW1vdmUoKTsKICAgICAgICBhcHAuX19pc09wZW4gPSBmYWxzZTsKICAgICAgfSwgdGltZSk7CiAgICB9IGVsc2UgewogICAgICBkaXYucmVtb3ZlKCk7CiAgICAgIGlmICghbW91bnQpIHsKICAgICAgICB2bS51bm1vdW50KCk7CiAgICAgIH0KICAgICAgYXBwLl9faXNPcGVuID0gZmFsc2U7CiAgICB9CiAgfTsKICBhcHAuX19pc09wZW4gPSB0cnVlOwogIC8v6ZqQ6JeP5YWz6Zet5oyJ6ZKuCiAgaWYgKCEob3B0aW9ucyAhPT0gbnVsbCAmJiBvcHRpb25zICE9PSB2b2lkIDAgJiYgb3B0aW9ucy5oaWRlQ2xvc2UpKSB7CiAgICBjb25zdCBjbG9zZUJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgY2xvc2VCdG4uY2xhc3NOYW1lID0gJ2Nsb3NlIGJ0biBjZW50ZXInOwogICAgY2xvc2VCdG4uaW5uZXJIVE1MID0gYDxzdmcgY2xhc3M9InN2Zy11c2UiIHdpZHRoPSIyNCIgaGVpZ2h0PSIyNCIgZm9jdXNhYmxlPSJmYWxzZSIgYXJpYS1oaWRkZW49InRydWUiPjx1c2UgeGxpbms6aHJlZj0iL3N2Zy9zcHJpdGUuc3ZnI2ljb24tY2xvc2UiPjwvdXNlPjwvc3ZnPmA7CiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoY2xvc2VCdG4pOwogICAgY2xvc2VCdG4ub25jbGljayA9IGNsb3NlOwogIH0KICB2bS5wcm92aWRlKCdjbG9zZScsIGNsb3NlKTsKICBjb25zdCB2bm9kZSA9IHZtLm1vdW50KGJveCk7CiAgcmV0dXJuIHsKICAgIHZub2RlLAogICAgY2xvc2UsCiAgICBjb250YWluZXIKICB9Owp9CmxldCBfcm91dGVyOwpleHBvcnQgZnVuY3Rpb24gcmVnaXN0ZXJSb3V0ZXIocm91dGVyKSB7CiAgX3JvdXRlciA9IHJvdXRlcjsKfQpleHBvcnQgZnVuY3Rpb24gZ2V0Um91dGVyKCkgewogIHJldHVybiBfcm91dGVyOwp9CmV4cG9ydCBmdW5jdGlvbiBmb3JjZVJlbG9hZCgpIHsKICBjb25zdCBocmVmID0gbG9jYXRpb24uaHJlZjsKICBpZiAoaHJlZi5tYXRjaCgvKFw/fCYpdj1cZCsvKSkgewogICAgbG9jYXRpb24uaHJlZiA9IGhyZWYucmVwbGFjZSgvKFw/fCYpdj1cZCsvLCAoJDAsICQxKSA9PiB7CiAgICAgIHJldHVybiBgJHskMX12PSR7RGF0ZS5ub3coKX1gOwogICAgfSk7CiAgfSBlbHNlIHsKICAgIGlmIChocmVmLmluY2x1ZGVzKCc/JykpIHsKICAgICAgbG9jYXRpb24uaHJlZiA9IGAke2hyZWZ9JnY9JHtEYXRlLm5vdygpfWA7CiAgICB9IGVsc2UgewogICAgICBsb2NhdGlvbi5ocmVmID0gYCR7aHJlZn0/dj0ke0RhdGUubm93KCl9YDsKICAgIH0KICB9CiAgbG9jYXRpb24ucmVsb2FkKCk7Cn0="},{"version":3,"names":["createApp","zIndex","openModal","app","options","__isOpen","vm","component","Image","div","document","createElement","body","appendChild","className","style","container","box","close","event","isanim","time","mount","transition","background","setTimeout","unmount","remove","hideClose","closeBtn","innerHTML","onclick","provide","vnode","_router","registerRouter","router","getRouter","forceReload","href","location","match","replace","$0","$1","Date","now","includes","reload"],"sources":["/Users/nuomi/Desktop/项目/concept/web3-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/web3-concept/src/manager/view.ts"],"sourcesContent":["import { DefineComponent, createApp } from 'vue';\nimport { Router } from 'vue-router';\n\nlet zIndex = 1000;\n/**\n * 打开位于顶层的弹窗\n * @param app vue模块\n * @param options 传给vuem模块的参数\n * @returns {vm,close,container} vnode为vue生成的虚拟节点，\n * 可以调用函数.close为外部可以主动调用的关闭函数；\n * container是弹窗的容器，可以调用classList.add来动态增加样式\n */\nexport function openModal<T extends Record<string, any>>(\n  app: DefineComponent<T, any, any>,\n  options?: T,\n) {\n  // 如果已经打开了，就不重复打开了\n  if (app.__isOpen) return;\n  const vm = createApp(app, options);\n  vm.component('Image', Image);\n  const div = document.createElement('div');\n  document.body.appendChild(div);\n  // 补充蒙版样式，和居中效果\n  div.className = 'top-layer center';\n  div.style.zIndex = `${++zIndex}`;\n  const container = document.createElement('div');\n  container.className = 'container';\n  div.appendChild(container);\n  const box = document.createElement('div');\n  container.appendChild(box);\n\n  const close = (\n    event?: MouseEvent | undefined,\n    isanim?: boolean,\n    time?: number,\n    mount?: boolean,\n  ) => {\n    if (isanim) {\n      div.style.transition = 'background 0.3s';\n      div.style.background = 'rgba(0, 0, 0, 0)';\n      setTimeout(() => {\n        vm.unmount();\n        div.remove();\n        app.__isOpen = false;\n      }, time);\n    } else {\n      div.remove();\n      if (!mount) {\n        vm.unmount();\n      }\n      app.__isOpen = false;\n    }\n  };\n  app.__isOpen = true;\n  //隐藏关闭按钮\n  if (!options?.hideClose) {\n    const closeBtn = document.createElement('div');\n    closeBtn.className = 'close btn center';\n    closeBtn.innerHTML = `<svg class=\"svg-use\" width=\"24\" height=\"24\" focusable=\"false\" aria-hidden=\"true\"><use xlink:href=\"/svg/sprite.svg#icon-close\"></use></svg>`;\n    container.appendChild(closeBtn);\n    closeBtn.onclick = close;\n  }\n  vm.provide('close', close);\n  const vnode = vm.mount(box) as any;\n  return {\n    vnode,\n    close,\n    container,\n  };\n}\nexport type ModalCloseFun = (\n  event?: MouseEvent | undefined,\n  isanim?: boolean,\n  time?: number,\n  mount?: boolean,\n) => void | undefined;\n\nlet _router: Router;\nexport function registerRouter(router: Router) {\n  _router = router;\n}\nexport function getRouter() {\n  return _router;\n}\n\nexport function forceReload() {\n  const href = location.href;\n  if (href.match(/(\\?|&)v=\\d+/)) {\n    location.href = href.replace(/(\\?|&)v=\\d+/, ($0, $1) => {\n      return `${$1}v=${Date.now()}`;\n    });\n  } else {\n    if (href.includes('?')) {\n      location.href = `${href}&v=${Date.now()}`;\n    } else {\n      location.href = `${href}?v=${Date.now()}`;\n    }\n  }\n  location.reload();\n}\n"],"mappings":"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"}]}