{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/other/game/scrolledList.vue?vue&type=template&id=d23ededc&scoped=true&ts=true","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/other/game/scrolledList.vue","mtime":1716171553048},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1716171609809},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CiAgPGRpdiBzdHlsZT0icG9zaXRpb246IHJlbGF0aXZlIj4KICAgIDxkaXYgY2xhc3M9InJlcG9ydC11bCIgcmVmPSJyZXBvcnQiPgogICAgICA8Um93SXRlbQogICAgICAgIHYtZm9yPSIoaXRlbSwgaW5kZXgpIGluIHJlbGF0b3Jpb0RhdGEiCiAgICAgICAgdi1iaW5kOmtleT0iaW5kZXgiCiAgICAgICAgdi1zaG93PSJwcm9wcy5hY3RpdmVCdXR0b24iCiAgICAgID4KICAgICAgICA8dGVtcGxhdGUgdi1zbG90OnVzZXJuYW1lPnt7IGl0ZW0udXNlcm5hbWUgfX08L3RlbXBsYXRlPgogICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6dXNlck1vbmV5Pnt7IGl0ZW0uYWRkQW1vdW50IH19PC90ZW1wbGF0ZT4KICAgICAgPC9Sb3dJdGVtPgogICAgPC9kaXY+CiAgICA8ZGl2IGNsYXNzPSJyZXBvcnQtdWkiIHYtc2hvdz0iIXByb3BzLmFjdGl2ZUJ1dHRvbiI+CiAgICAgIDxSb3dJdGVtIHYtZm9yPSIoaXRlbSwgaW5kZXgpIGluIG9yaWdpbkRhdGEiIHYtYmluZDprZXk9ImluZGV4Ij4KICAgICAgICA8dGVtcGxhdGUgdi1zbG90OnVzZXJuYW1lPnt7IGl0ZW0udXNlcm5hbWUgfX08L3RlbXBsYXRlPgogICAgICAgIDx0ZW1wbGF0ZSB2LXNsb3Q6dXNlck1vbmV5Pnt7IGl0ZW0uYWRkQW1vdW50IH19PC90ZW1wbGF0ZT4KICAgICAgPC9Sb3dJdGVtPgogICAgPC9kaXY+CiAgPC9kaXY+Cg=="},{"version":3,"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/other/game/scrolledList.vue"],"names":[],"mappings":";EACE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IAC7B,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACL,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACrC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACjB,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5B;QACE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC;IACL,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MACjD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;QACvD,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;MAC3D,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;IACX,CAAC,CAAC,CAAC,CAAC,CAAC;EACP,CAAC,CAAC,CAAC,CAAC,CAAC","file":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/other/game/scrolledList.vue","sourceRoot":"","sourcesContent":["<template>\n  <div style=\"position: relative\">\n    <div class=\"report-ul\" ref=\"report\">\n      <RowItem\n        v-for=\"(item, index) in relatorioData\"\n        v-bind:key=\"index\"\n        v-show=\"props.activeButton\"\n      >\n        <template v-slot:username>{{ item.username }}</template>\n        <template v-slot:userMoney>{{ item.addAmount }}</template>\n      </RowItem>\n    </div>\n    <div class=\"report-ui\" v-show=\"!props.activeButton\">\n      <RowItem v-for=\"(item, index) in originData\" v-bind:key=\"index\">\n        <template v-slot:username>{{ item.username }}</template>\n        <template v-slot:userMoney>{{ item.addAmount }}</template>\n      </RowItem>\n    </div>\n  </div>\n</template>\n<script setup lang=\"ts\">\nimport {\n  onBeforeUnmount,\n  onMounted,\n  reactive,\n  ref,\n  defineProps,\n  watch,\n} from 'vue';\nimport RowItem from '@/views/home/other/game/widget/RowItem.vue';\nimport { GetUserInviteUserResq } from './api/protocol';\nimport { getUserInviteUser } from './api';\nconst showItem = ref(0);\nconst timer = ref(0);\nconst report = ref<HTMLDivElement | null>(null);\nconst props = defineProps<{\n  activeButton: boolean;\n}>();\nlet relatorioData = reactive([] as GetUserInviteUserResq[]);\nlet originData = ref([] as GetUserInviteUserResq[]);\n// 循环生成10条数据并推送到 relatorioData 数组中\nfunction generateData() {\n  for (let i = 0; i < 50; i++) {\n    relatorioData.push({\n      username: `User****${String(Math.floor(Math.random() * 100)).padStart(\n        2,\n        '0',\n      )}`,\n      addAmount: 100,\n    });\n  }\n}\n\ngenerateData();\n\nwatch(props, (newValue) => {\n  if (!newValue.activeButton) {\n    clearInterval(timer.value);\n    getUserInviteUser().then((resp) => {\n      if (!resp) return;\n      originData.value = resp;\n    });\n  } else {\n    timer.value = setInterval(scrollList, 40);\n  }\n});\n\nfunction scrollList() {\n  // if (showItem.value > relatorioData.length - 10) {\n  //   relatorioData.push(...relatorioData);\n  // }\n  if (report.value) {\n    if (\n      report.value.scrollHeight - report.value.scrollTop ===\n      report.value.clientHeight\n    ) {\n      // 如果滚动到底部，将第一个元素移动到末尾，实现循环滚动\n      report.value.scrollTop = 0;\n    } else {\n      // 向上滚动一个元素的高度\n      let firstChild = report.value.children[0] as HTMLDivElement;\n      if (firstChild) {\n        report.value.scrollTo({\n          top: report.value.scrollTop + 4,\n          behavior: 'smooth',\n        });\n        showItem.value = Math.floor(\n          report.value.scrollTop / firstChild.offsetHeight,\n        );\n      }\n    }\n  }\n}\nonMounted(() => {\n  timer.value = setInterval(scrollList, 40);\n});\n\nonBeforeUnmount(() => {\n  clearInterval(timer.value);\n});\n</script>\n\n<style lang=\"less\" scoped>\n.report-ul {\n  position: absolute;\n  top: 0;\n  bottom: 0;\n  width: 100%;\n  margin-top: 15px;\n  overflow: hidden;\n  height: 100%;\n  transition: all 0.3s ease-in-out;\n}\n</style>\n"]}]}