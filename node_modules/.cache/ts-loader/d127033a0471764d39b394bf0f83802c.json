{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/login/preferential/index.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/login/preferential/index.ts","mtime":1718692442865},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IGRhdGFDZW50ZXIgZnJvbSAnQC9kYXRhQ2VudGVyJzsKaW1wb3J0IGRheWpzIGZyb20gJ2RheWpzJzsKaW1wb3J0IHsgcmVhY3RpdmUgfSBmcm9tICd2dWUnOwpjbGFzcyBQcmVmZXJlbnRpYWwgewogIGNvbnN0cnVjdG9yKCkgewogICAgdGhpcy5pc092ZXIgPSBmYWxzZTsKICAgIHRoaXMudGltZXIgPSAwOwogICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKCgpID0+IHsKICAgICAgLy/liJ3lp4vljJbpppblhrLlpZblirEKICAgICAgcHJlZmVyZW50aWFsLmNoYW5nZSgpOwogICAgfSwgMTAwMCk7CiAgfQogIGRlc3Ryb3koKSB7CiAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpOwogIH0KICBjaGFuZ2UoKSB7CiAgICBpZiAodGhpcy5pc092ZXIpIHJldHVybjsKICAgIGlmIChkYXRhQ2VudGVyLnVzZXIuZGF0YSkgewogICAgICBjb25zdCBjcmVhdGVUaW1lID0gYCR7ZGF0YUNlbnRlci51c2VyLmRhdGEuY3JlYXRlVGltZX1aYDsKICAgICAgdGhpcy5pc092ZXIgPSBkYXlqcygpLmlzQWZ0ZXIoZGF5anMoY3JlYXRlVGltZSkuYWRkKDIsICdob3VyJykpOwogICAgfQogIH0KICBmaXJzdEJvbnVzKCkgewogICAgdmFyIF9kYXRhQ2VudGVyJHVzZXIkZGF0YTsKICAgIHJldHVybiAoKF9kYXRhQ2VudGVyJHVzZXIkZGF0YSA9IGRhdGFDZW50ZXIudXNlci5kYXRhKSA9PT0gbnVsbCB8fCBfZGF0YUNlbnRlciR1c2VyJGRhdGEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9kYXRhQ2VudGVyJHVzZXIkZGF0YS5pc0ZpcnN0UmVjaGFyZ2UpICYmICF0aGlzLmlzT3ZlcjsKICB9Cn0KZXhwb3J0IGNvbnN0IHByZWZlcmVudGlhbCA9IHJlYWN0aXZlKG5ldyBQcmVmZXJlbnRpYWwoKSk7"},{"version":3,"names":["dataCenter","dayjs","reactive","Preferential","constructor","isOver","timer","setInterval","preferential","change","destroy","clearInterval","user","data","createTime","isAfter","add","firstBonus","_dataCenter$user$data","isFirstRecharge"],"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/home/login/preferential/index.ts"],"sourcesContent":["import dataCenter from '@/dataCenter';\nimport dayjs from 'dayjs';\nimport { reactive } from 'vue';\n\nclass Preferential {\n  private isOver = false;\n  private timer = 0;\n  constructor() {\n    this.timer = setInterval(() => {\n      //初始化首冲奖励\n      preferential.change();\n    }, 1000);\n  }\n  destroy() {\n    clearInterval(this.timer);\n  }\n  change() {\n    if (this.isOver) return;\n    if (dataCenter.user.data) {\n      const createTime = `${dataCenter.user.data.createTime}Z`;\n      this.isOver = dayjs().isAfter(dayjs(createTime).add(2, 'hour'));\n    }\n  }\n  firstBonus() {\n    return dataCenter.user.data?.isFirstRecharge && !this.isOver;\n  }\n}\nexport const preferential = reactive(new Preferential());\n"],"mappings":"AAAA,OAAOA,UAAU,MAAM,cAAc;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,QAAQ,QAAQ,KAAK;AAE9B,MAAMC,YAAY;EAGhBC,YAAA;IAFQ,KAAAC,MAAM,GAAG,KAAK;IACd,KAAAC,KAAK,GAAG,CAAC;IAEf,IAAI,CAACA,KAAK,GAAGC,WAAW,CAAC,MAAK;MAC5B;MACAC,YAAY,CAACC,MAAM,EAAE;IACvB,CAAC,EAAE,IAAI,CAAC;EACV;EACAC,OAAOA,CAAA;IACLC,aAAa,CAAC,IAAI,CAACL,KAAK,CAAC;EAC3B;EACAG,MAAMA,CAAA;IACJ,IAAI,IAAI,CAACJ,MAAM,EAAE;IACjB,IAAIL,UAAU,CAACY,IAAI,CAACC,IAAI,EAAE;MACxB,MAAMC,UAAU,GAAG,GAAGd,UAAU,CAACY,IAAI,CAACC,IAAI,CAACC,UAAU,GAAG;MACxD,IAAI,CAACT,MAAM,GAAGJ,KAAK,EAAE,CAACc,OAAO,CAACd,KAAK,CAACa,UAAU,CAAC,CAACE,GAAG,CAAC,CAAC,EAAE,MAAM,CAAC,CAAC;;EAEnE;EACAC,UAAUA,CAAA;IAAA,IAAAC,qBAAA;IACR,OAAO,EAAAA,qBAAA,GAAAlB,UAAU,CAACY,IAAI,CAACC,IAAI,cAAAK,qBAAA,uBAApBA,qBAAA,CAAsBC,eAAe,KAAI,CAAC,IAAI,CAACd,MAAM;EAC9D;;AAEF,OAAO,MAAMG,YAAY,GAAGN,QAAQ,CAAC,IAAIC,YAAY,EAAE,CAAC"}]}