{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue","mtime":1716171553023},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBkYXRhQ2VudGVyIGZyb20gJ0AvZGF0YUNlbnRlcic7CmltcG9ydCB7IENoYXREYXRhIH0gZnJvbSAnQC9kYXRhQ2VudGVyL2NoYXRSb29tJzsKaW1wb3J0IHsgZGVmaW5lQ29tcG9uZW50IH0gZnJvbSAndnVlJzsKaW1wb3J0IENoYXRzQXJlYSBmcm9tICcuL2NoYXRzQXJlYS9DaGF0c0FyZWEudnVlJzsKaW1wb3J0IENoYXRzTG9kZGluZyBmcm9tICcuL0NoYXRzTG9kZGluZy52dWUnOwppbXBvcnQgQ2hhdHNGb290ZXIgZnJvbSAnLi9mb290ZXIvQ2hhdHNGb290ZXIudnVlJzsKaW1wb3J0IENoYXRzSGVhZGVyIGZyb20gJy4vaGVhZGVyL0NoYXRzSGVhZGVyLnZ1ZSc7CmludGVyZmFjZSBDaGlsZFJlZiB7CiAgc2Nyb2xsVG9CdXR0b20oKTogdm9pZDsKfQpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIG5hbWU6ICdjaGF0cycsCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxheW91dDogZGF0YUNlbnRlci5sYXlvdXQsCiAgICAgIGRhdGFMb2FkaW5nOiB0cnVlLAogICAgICBjaGF0Um9vbTogZGF0YUNlbnRlci5jaGF0Um9vbSwKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WPkemAgea2iOaBrwogICAgc2VuZE1lc3NhZ2UobWVzc2FnZTogc3RyaW5nKSB7CiAgICAgIGlmIChtZXNzYWdlID09ICcnKSByZXR1cm47CiAgICAgIC8vIOWbnuWkjeeahOiuvue9rumbhuaIkOWIsGNoYXRSb29t5LqGCiAgICAgIGRhdGFDZW50ZXIuY2hhdFJvb20uc2VuZFRleHRDaGF0KG1lc3NhZ2UpOwogICAgfSwKICAgIHJlcGx5Q2xpY2sobXNnSXRlbTogQ2hhdERhdGEpIHsKICAgICAgZGF0YUNlbnRlci5jaGF0Um9vbS5yZXBseSA9IG1zZ0l0ZW07CiAgICB9LAogICAgY2FuY2VsUmVwbHkoKSB7CiAgICAgIGRhdGFDZW50ZXIuY2hhdFJvb20ucmVwbHkgPSB1bmRlZmluZWQ7CiAgICB9LAogIH0sCiAgbW91bnRlZCgpIHsKICAgIGRhdGFDZW50ZXIuY2hhdFJvb20uaW5pdCgpLnRoZW4oKCkgPT4gewogICAgICBjb25zdCBjaGF0c0FyZWEgPSB0aGlzLiRyZWZzLmNoYXRzQXJlYSBhcyBDaGlsZFJlZjsKICAgICAgaWYgKGNoYXRzQXJlYSkgewogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuZGF0YUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIGNoYXRzQXJlYS5zY3JvbGxUb0J1dHRvbSgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9KTsKICB9LAoKICBjb21wb25lbnRzOiB7CiAgICBDaGF0c0hlYWRlciwKICAgIENoYXRzQXJlYSwKICAgIENoYXRzRm9vdGVyLAogICAgQ2hhdHNMb2RkaW5nLAogIH0sCn0pOwo="},{"version":3,"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue"],"names":[],"mappings":";AAuBA,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAChD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC;AACrC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AACjD,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;AAC7C,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAA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","file":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/views/chats/index.vue","sourceRoot":"","sourcesContent":["<template>\n  <div class=\"chats\" :class=\"{ fold: !layout.isChatOpen() }\">\n    <div class=\"loading\" v-show=\"dataLoading\">\n      <ChatsLodding></ChatsLodding>\n    </div>\n    <div class=\"container\" v-show=\"!dataLoading\">\n      <ChatsHeader></ChatsHeader>\n      <ChatsArea\n        :message-list=\"chatRoom.list.slice(-200)\"\n        ref=\"chatsArea\"\n        @replyClick=\"replyClick\"\n      >\n      </ChatsArea>\n      <ChatsFooter\n        @sendMessage=\"sendMessage\"\n        @cancelReply=\"cancelReply\"\n        :msgItem=\"chatRoom.reply\"\n      ></ChatsFooter>\n    </div>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport dataCenter from '@/dataCenter';\nimport { ChatData } from '@/dataCenter/chatRoom';\nimport { defineComponent } from 'vue';\nimport ChatsArea from './chatsArea/ChatsArea.vue';\nimport ChatsLodding from './ChatsLodding.vue';\nimport ChatsFooter from './footer/ChatsFooter.vue';\nimport ChatsHeader from './header/ChatsHeader.vue';\ninterface ChildRef {\n  scrollToButtom(): void;\n}\nexport default defineComponent({\n  name: 'chats',\n  data() {\n    return {\n      layout: dataCenter.layout,\n      dataLoading: true,\n      chatRoom: dataCenter.chatRoom,\n    };\n  },\n  methods: {\n    //发送消息\n    sendMessage(message: string) {\n      if (message == '') return;\n      // 回复的设置集成到chatRoom了\n      dataCenter.chatRoom.sendTextChat(message);\n    },\n    replyClick(msgItem: ChatData) {\n      dataCenter.chatRoom.reply = msgItem;\n    },\n    cancelReply() {\n      dataCenter.chatRoom.reply = undefined;\n    },\n  },\n  mounted() {\n    dataCenter.chatRoom.init().then(() => {\n      const chatsArea = this.$refs.chatsArea as ChildRef;\n      if (chatsArea) {\n        this.$nextTick(() => {\n          this.dataLoading = false;\n          chatsArea.scrollToButtom();\n        });\n      }\n    });\n  },\n\n  components: {\n    ChatsHeader,\n    ChatsArea,\n    ChatsFooter,\n    ChatsLodding,\n  },\n});\n</script>\n\n<style lang=\"less\" scoped>\n.chats {\n  width: 325px;\n  box-sizing: border-box;\n  height: 100%;\n  overflow-y: scroll;\n  color: #93acd3;\n  font-size: 14px;\n  font-weight: 600;\n  background-color: #111923;\n  box-shadow: 6px 4px 10px #0d131c66;\n  font-family: Montserrat Variable, sans-serif;\n  overflow: hidden;\n  transition: width 0.2s ease-in-out;\n\n  &::-webkit-scrollbar {\n    background-color: #2a3546;\n    border-radius: 2px;\n    height: 4px;\n    width: 4px;\n  }\n\n  &.fold {\n    width: 0px;\n  }\n\n  .container {\n    display: flex;\n    flex-direction: column;\n    height: 100%;\n  }\n}\n.loading {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  height: 100%;\n}\n\n@media only screen and (max-width: 767px) {\n  .chats {\n    position: absolute;\n    right: 0;\n    width: 100%;\n    z-index: 100;\n  }\n}\n</style>\n"]}]}