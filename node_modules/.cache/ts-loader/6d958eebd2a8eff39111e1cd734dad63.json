{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/concept/fury-client/src/views/ReferralProgram/dashboardData/DashboardLiveRewards.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/src/views/ReferralProgram/dashboardData/DashboardLiveRewards.vue","mtime":1716171553019},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/vue-loader-v16/dist/index.js","mtime":1716171609468}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkudW5zaGlmdC5qcyI7CmltcG9ydCBBdmF0YXIgZnJvbSAnQC9jb21wb25lbnRzL0F2YXRhci52dWUnOwppbXBvcnQgZGF0YUNlbnRlciBmcm9tICdAL2RhdGFDZW50ZXInOwppbXBvcnQgeyBsYW5nIH0gZnJvbSAnQC9sYW5nJzsKaW1wb3J0IEFtb3VudFByb21wdCBmcm9tICdAL3ZpZXdzL2NoYXRzL3Byb21wdC9hbW91bnRQcm9tcHQudnVlJzsKaW1wb3J0IHsgZ2V0RGF5UmFuayB9IGZyb20gJ0Avdmlld3MvaG9tZS9hcGknOwppbXBvcnQgeyBkZWZpbmVDb21wb25lbnQgfSBmcm9tICd2dWUnOwpleHBvcnQgZGVmYXVsdCBkZWZpbmVDb21wb25lbnQoewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsYW5nLAogICAgICBjdXJyZW50U3R5bGVJbmRleDogMCwKICAgICAgc3R5bGVzOiBbJ2VtYmxhLWNvbnRhaW5lcicsICdlbWJsYS1jb250YWluZXIgYW5pbWF0aW9uLS1zdGFydCddLAogICAgICBpbnRlcnZhbElkOiAwLAogICAgICByZXdhcmRzUGFnZTogMCwKICAgICAgcmV3YXJkc0RhdGE6IFtdLAogICAgICBjdXJyZW50SW5kZXg6IDAsCiAgICAgIHRpbWVyOiAwLAogICAgICBkYXRhQ2VudGVyCiAgICB9OwogIH0sCiAgYmVmb3JlVW5tb3VudCgpIHsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy5pbnRlcnZhbElkKTsKICAgIGNsZWFySW50ZXJ2YWwodGhpcy50aW1lcik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBjdXJyZW50U3R5bGUoKSB7CiAgICAgIHJldHVybiB0aGlzLnN0eWxlc1t0aGlzLmN1cnJlbnRTdHlsZUluZGV4XTsKICAgIH0sCiAgICB0b2dnbGVTdHlsZSgpIHsKICAgICAgdGhpcy5jdXJyZW50U3R5bGVJbmRleCA9ICh0aGlzLmN1cnJlbnRTdHlsZUluZGV4ICsgMSkgJSB0aGlzLnN0eWxlcy5sZW5ndGg7CiAgICB9LAogICAgZ2V0RGF0YSgpIHsKICAgICAgaWYgKHRoaXMucmV3YXJkc0RhdGEubGVuZ3RoIDwgMSkgcmV0dXJuOwogICAgICB0aGlzLmludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgdGhpcy50b2dnbGVTdHlsZSgpOwogICAgICAgIGlmICh0aGlzLmN1cnJlbnRTdHlsZUluZGV4ID09IDEpIHsKICAgICAgICAgIGNvbnN0IGxhc3RJdGVtID0gdGhpcy5yZXdhcmRzRGF0YS5wb3AoKTsKICAgICAgICAgIGlmIChsYXN0SXRlbSkgdGhpcy5yZXdhcmRzRGF0YS51bnNoaWZ0KGxhc3RJdGVtKTsKICAgICAgICB9CiAgICAgIH0sIDUwMCk7CiAgICB9LAogICAgZW5mb3JjZVJld2FyZHMoKSB7CiAgICAgIC8vIGdldEVuZm9yY2VSZXdhcmRzKHRoaXMucmV3YXJkc1BhZ2UsICcxMCcpLnRoZW4oKHJlc3BvbnNlKSA9PiB7CiAgICAgIC8vICAgaWYgKHJlc3BvbnNlKSB7CiAgICAgIC8vICAgICB0aGlzLnJld2FyZHNEYXRhID0gcmVzcG9uc2U7CiAgICAgIC8vICAgfQogICAgICAvLyB9KTsKICAgICAgZ2V0RGF5UmFuaygpLnRoZW4ocmVzcCA9PiB7CiAgICAgICAgaWYgKCFyZXNwKSByZXR1cm47CiAgICAgICAgdGhpcy5yZXdhcmRzRGF0YSA9IHJlc3A7CiAgICAgICAgdGhpcy5zdGFydFNjcm9sbGluZygpOwogICAgICB9KTsKICAgIH0sCiAgICBzdGFydFNjcm9sbGluZygpIHsKICAgICAgY29uc3Qgc2Nyb2xsQ29udGFpbmVyID0gdGhpcy4kcmVmcy5zY3JvbGxDb250YWluZXI7CiAgICAgIHRoaXMudGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgaWYgKHNjcm9sbENvbnRhaW5lcikgewogICAgICAgICAgaWYgKE1hdGguZmxvb3Ioc2Nyb2xsQ29udGFpbmVyLnNjcm9sbEhlaWdodCAtIHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3ApID09PSBzY3JvbGxDb250YWluZXIuY2xpZW50SGVpZ2h0KSB7CiAgICAgICAgICAgIHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgPSAwOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5ZCR5LiK5rua5Yqo5LiA5Liq5YWD57Sg55qE6auY5bqmCiAgICAgICAgICAgIGxldCBmaXJzdENoaWxkID0gc2Nyb2xsQ29udGFpbmVyLmNoaWxkcmVuWzBdOwogICAgICAgICAgICBpZiAoZmlyc3RDaGlsZCkgewogICAgICAgICAgICAgIHNjcm9sbENvbnRhaW5lci5zY3JvbGxUbyh7CiAgICAgICAgICAgICAgICB0b3A6IHNjcm9sbENvbnRhaW5lci5zY3JvbGxUb3AgKyA0MAogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCAxMDAwKTsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICAgIHRoaXMuZW5mb3JjZVJld2FyZHMoKTsKICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEF2YXRhciwKICAgIEFtb3VudFByb21wdAogIH0KfSk7"},{"version":3,"names":["Avatar","dataCenter","lang","AmountPrompt","getDayRank","defineComponent","data","currentStyleIndex","styles","intervalId","rewardsPage","rewardsData","currentIndex","timer","beforeUnmount","clearInterval","methods","currentStyle","toggleStyle","length","getData","setInterval","lastItem","pop","unshift","enforceRewards","then","resp","startScrolling","scrollContainer","$refs","Math","floor","scrollHeight","scrollTop","clientHeight","firstChild","children","scrollTo","top","created","components"],"sources":["/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/vue-loader-v16/dist/index.js??ref--1-1!/Users/nuomi/Desktop/项目/concept/fury-client/src/views/ReferralProgram/dashboardData/DashboardLiveRewards.vue?vue&type=script&lang=ts"],"sourcesContent":["\nimport Avatar from '@/components/Avatar.vue';\nimport dataCenter from '@/dataCenter';\nimport { lang } from '@/lang';\nimport AmountPrompt from '@/views/chats/prompt/amountPrompt.vue';\nimport { getDayRank, getEnforceRewards } from '@/views/home/api';\nimport { DayRankResp, GetEnforceRewardsResq } from '@/views/home/api/protocol';\nimport FeedbackButton from '@/views/home/casino/about/FeedbackButton.vue';\nimport { defineComponent } from 'vue';\nexport default defineComponent({\n  data() {\n    return {\n      lang,\n      currentStyleIndex: 0,\n      styles: ['embla-container', 'embla-container animation--start'],\n      intervalId: 0,\n      rewardsPage: 0,\n      rewardsData: [] as DayRankResp[],\n      currentIndex: 0,\n      timer: 0,\n      dataCenter,\n    };\n  },\n  beforeUnmount() {\n    clearInterval(this.intervalId);\n    clearInterval(this.timer);\n  },\n  methods: {\n    currentStyle() {\n      return this.styles[this.currentStyleIndex];\n    },\n    toggleStyle() {\n      this.currentStyleIndex =\n        (this.currentStyleIndex + 1) % this.styles.length;\n    },\n    getData() {\n      if (this.rewardsData.length < 1) return;\n      this.intervalId = setInterval(() => {\n        this.toggleStyle();\n        if (this.currentStyleIndex == 1) {\n          const lastItem = this.rewardsData.pop();\n          if (lastItem) this.rewardsData.unshift(lastItem);\n        }\n      }, 500);\n    },\n    enforceRewards() {\n      // getEnforceRewards(this.rewardsPage, '10').then((response) => {\n      //   if (response) {\n      //     this.rewardsData = response;\n      //   }\n      // });\n      getDayRank().then((resp) => {\n        if (!resp) return;\n        this.rewardsData = resp;\n        this.startScrolling();\n      });\n    },\n    startScrolling() {\n      const scrollContainer = this.$refs.scrollContainer as HTMLDivElement;\n      this.timer = setInterval(() => {\n        if (scrollContainer) {\n          if (\n            Math.floor(\n              scrollContainer.scrollHeight - scrollContainer.scrollTop,\n            ) === scrollContainer.clientHeight\n          ) {\n            scrollContainer.scrollTop = 0;\n          } else {\n            // 向上滚动一个元素的高度\n            let firstChild = scrollContainer.children[0] as HTMLDivElement;\n            if (firstChild) {\n              scrollContainer.scrollTo({\n                top: scrollContainer.scrollTop + 40,\n              });\n            }\n          }\n        }\n      }, 1000);\n    },\n  },\n  created() {\n    this.getData();\n    this.enforceRewards();\n  },\n\n  components: { Avatar, AmountPrompt },\n});\n"],"mappings":";AACA,OAAOA,MAAM,MAAM,yBAAyB;AAC5C,OAAOC,UAAU,MAAM,cAAc;AACrC,SAASC,IAAI,QAAQ,QAAQ;AAC7B,OAAOC,YAAY,MAAM,uCAAuC;AAChE,SAASC,UAAU,QAA2B,kBAAkB;AAGhE,SAASC,eAAe,QAAQ,KAAK;AACrC,eAAeA,eAAe,CAAC;EAC7BC,IAAIA,CAAA;IACF,OAAO;MACLJ,IAAI;MACJK,iBAAiB,EAAE,CAAC;MACpBC,MAAM,EAAE,CAAC,iBAAiB,EAAE,kCAAkC,CAAC;MAC/DC,UAAU,EAAE,CAAC;MACbC,WAAW,EAAE,CAAC;MACdC,WAAW,EAAE,EAAmB;MAChCC,YAAY,EAAE,CAAC;MACfC,KAAK,EAAE,CAAC;MACRZ;KACD;EACH,CAAC;EACDa,aAAaA,CAAA;IACXC,aAAa,CAAC,IAAI,CAACN,UAAU,CAAC;IAC9BM,aAAa,CAAC,IAAI,CAACF,KAAK,CAAC;EAC3B,CAAC;EACDG,OAAO,EAAE;IACPC,YAAYA,CAAA;MACV,OAAO,IAAI,CAACT,MAAM,CAAC,IAAI,CAACD,iBAAiB,CAAC;IAC5C,CAAC;IACDW,WAAWA,CAAA;MACT,IAAI,CAACX,iBAAiB,GACpB,CAAC,IAAI,CAACA,iBAAiB,GAAG,CAAC,IAAI,IAAI,CAACC,MAAM,CAACW,MAAM;IACrD,CAAC;IACDC,OAAOA,CAAA;MACL,IAAI,IAAI,CAACT,WAAW,CAACQ,MAAM,GAAG,CAAC,EAAE;MACjC,IAAI,CAACV,UAAU,GAAGY,WAAW,CAAC,MAAK;QACjC,IAAI,CAACH,WAAW,EAAE;QAClB,IAAI,IAAI,CAACX,iBAAiB,IAAI,CAAC,EAAE;UAC/B,MAAMe,QAAQ,GAAG,IAAI,CAACX,WAAW,CAACY,GAAG,EAAE;UACvC,IAAID,QAAQ,EAAE,IAAI,CAACX,WAAW,CAACa,OAAO,CAACF,QAAQ,CAAC;;MAEpD,CAAC,EAAE,GAAG,CAAC;IACT,CAAC;IACDG,cAAcA,CAAA;MACZ;MACA;MACA;MACA;MACA;MACArB,UAAU,EAAE,CAACsB,IAAI,CAAEC,IAAI,IAAI;QACzB,IAAI,CAACA,IAAI,EAAE;QACX,IAAI,CAAChB,WAAW,GAAGgB,IAAI;QACvB,IAAI,CAACC,cAAc,EAAE;MACvB,CAAC,CAAC;IACJ,CAAC;IACDA,cAAcA,CAAA;MACZ,MAAMC,eAAe,GAAG,IAAI,CAACC,KAAK,CAACD,eAAiC;MACpE,IAAI,CAAChB,KAAK,GAAGQ,WAAW,CAAC,MAAK;QAC5B,IAAIQ,eAAe,EAAE;UACnB,IACEE,IAAI,CAACC,KAAK,CACRH,eAAe,CAACI,YAAY,GAAGJ,eAAe,CAACK,SAAS,CACzD,KAAKL,eAAe,CAACM,YAAY,EAClC;YACAN,eAAe,CAACK,SAAS,GAAG,CAAC;WAC9B,MAAM;YACL;YACA,IAAIE,UAAU,GAAGP,eAAe,CAACQ,QAAQ,CAAC,CAAC,CAAmB;YAC9D,IAAID,UAAU,EAAE;cACdP,eAAe,CAACS,QAAQ,CAAC;gBACvBC,GAAG,EAAEV,eAAe,CAACK,SAAS,GAAG;eAClC,CAAC;;;;MAIV,CAAC,EAAE,IAAI,CAAC;IACV;GACD;EACDM,OAAOA,CAAA;IACL,IAAI,CAACpB,OAAO,EAAE;IACd,IAAI,CAACK,cAAc,EAAE;EACvB,CAAC;EAEDgB,UAAU,EAAE;IAAEzC,MAAM;IAAEG;EAAY;CACnC,CAAC"}]}