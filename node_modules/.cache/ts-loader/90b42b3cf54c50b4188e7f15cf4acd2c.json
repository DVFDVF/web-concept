{"remainingRequest":"/Users/nuomi/Documents/GitHub/web-concept/node_modules/babel-loader/lib/index.js!/Users/nuomi/Documents/GitHub/web-concept/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Documents/GitHub/web-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Documents/GitHub/web-concept/src/router/index.ts","dependencies":[{"path":"/Users/nuomi/Documents/GitHub/web-concept/src/router/index.ts","mtime":1719744310578},{"path":"/Users/nuomi/Documents/GitHub/web-concept/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Documents/GitHub/web-concept/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Documents/GitHub/web-concept/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Documents/GitHub/web-concept/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Documents/GitHub/web-concept/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgY3JlYXRlUm91dGVyLCBjcmVhdGVXZWJIYXNoSGlzdG9yeSB9IGZyb20gJ3Z1ZS1yb3V0ZXInOwppbXBvcnQgSG9tZSBmcm9tICcuLi92aWV3cy9ob21lL2hvbWUudnVlJzsKaW1wb3J0IHsgdG9rZW5Db250cm9sbGVyIH0gZnJvbSAnQC9tYW5hZ2VyL3Rva2VuJzsKY29uc3Qgcm91dGVzID0gW3sKICBwYXRoOiAnLycsCiAgbmFtZTogJ0hvbWUnLAogIGNvbXBvbmVudDogSG9tZQp9XTsKY29uc3Qgcm91dGVyID0gY3JlYXRlUm91dGVyKHsKICBoaXN0b3J5OiBjcmVhdGVXZWJIYXNoSGlzdG9yeSgpLAogIHJvdXRlcwp9KTsKZnVuY3Rpb24gY2hlY2tMb2dpblN0YXR1cyh0bywgbmV4dCkgewogIGlmICghdG9rZW5Db250cm9sbGVyLmZyZXNoVG9rZW4pIHsKICAgIG5leHQoZmFsc2UpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9CnJvdXRlci5iZWZvcmVFYWNoKCh0bywgZnJvbSwgbmV4dCkgPT4gewogIGlmICh0by5tYXRjaGVkLnNvbWUocmVjb3JkID0+IHJlY29yZC5tZXRhLnJlcXVpcmVzQXV0aCkpIHsKICAgIGNoZWNrTG9naW5TdGF0dXModG8sIG5leHQpOwogIH0gZWxzZSB7CiAgICBuZXh0KCk7CiAgfQp9KTsKcm91dGVyLmFmdGVyRWFjaCgodG8sIGZyb20sIG5leHQpID0+IHsKICBjb25zdCBkaXZFbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21haW4tY29udGVudCcpOwogIC8vIOWwhiBkaXYg5rua5Yqo5Yiw6aG26YOoCiAgaWYgKGRpdkVsZW1lbnQpIHsKICAgIGRpdkVsZW1lbnQuc2Nyb2xsVG9wID0gMDsKICB9Cn0pOwpleHBvcnQgZGVmYXVsdCByb3V0ZXI7"},{"version":3,"names":["createRouter","createWebHashHistory","Home","tokenController","routes","path","name","component","router","history","checkLoginStatus","to","next","freshToken","beforeEach","from","matched","some","record","meta","requiresAuth","afterEach","divElement","document","getElementById","scrollTop"],"sources":["/Users/nuomi/Documents/GitHub/web-concept/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Documents/GitHub/web-concept/src/router/index.ts"],"sourcesContent":["import {\n  createRouter,\n  createWebHashHistory,\n  NavigationGuardNext,\n  RouteLocationNormalized,\n  RouteRecordRaw,\n} from 'vue-router';\nimport Home from '../views/home/home.vue';\nimport { tokenController } from '@/manager/token';\nconst routes: Array<RouteRecordRaw> = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n  },\n];\n\nconst router = createRouter({\n  history: createWebHashHistory(),\n  routes,\n});\nfunction checkLoginStatus(\n  to: RouteLocationNormalized,\n  next: NavigationGuardNext,\n) {\n  if (!tokenController.freshToken) {\n    next(false);\n  } else {\n    next();\n  }\n}\nrouter.beforeEach((to, from, next) => {\n  if (to.matched.some((record) => record.meta.requiresAuth)) {\n    checkLoginStatus(to, next);\n  } else {\n    next();\n  }\n});\nrouter.afterEach((to, from, next) => {\n  const divElement = document.getElementById('main-content');\n  // 将 div 滚动到顶部\n  if (divElement) {\n    divElement.scrollTop = 0;\n  }\n});\n\nexport default router;\n"],"mappings":"AAAA,SACEA,YAAY,EACZC,oBAAoB,QAIf,YAAY;AACnB,OAAOC,IAAI,MAAM,wBAAwB;AACzC,SAASC,eAAe,QAAQ,iBAAiB;AACjD,MAAMC,MAAM,GAA0B,CACpC;EACEC,IAAI,EAAE,GAAG;EACTC,IAAI,EAAE,MAAM;EACZC,SAAS,EAAEL;CACZ,CACF;AAED,MAAMM,MAAM,GAAGR,YAAY,CAAC;EAC1BS,OAAO,EAAER,oBAAoB,EAAE;EAC/BG;CACD,CAAC;AACF,SAASM,gBAAgBA,CACvBC,EAA2B,EAC3BC,IAAyB;EAEzB,IAAI,CAACT,eAAe,CAACU,UAAU,EAAE;IAC/BD,IAAI,CAAC,KAAK,CAAC;GACZ,MAAM;IACLA,IAAI,EAAE;;AAEV;AACAJ,MAAM,CAACM,UAAU,CAAC,CAACH,EAAE,EAAEI,IAAI,EAAEH,IAAI,KAAI;EACnC,IAAID,EAAE,CAACK,OAAO,CAACC,IAAI,CAAEC,MAAM,IAAKA,MAAM,CAACC,IAAI,CAACC,YAAY,CAAC,EAAE;IACzDV,gBAAgB,CAACC,EAAE,EAAEC,IAAI,CAAC;GAC3B,MAAM;IACLA,IAAI,EAAE;;AAEV,CAAC,CAAC;AACFJ,MAAM,CAACa,SAAS,CAAC,CAACV,EAAE,EAAEI,IAAI,EAAEH,IAAI,KAAI;EAClC,MAAMU,UAAU,GAAGC,QAAQ,CAACC,cAAc,CAAC,cAAc,CAAC;EAC1D;EACA,IAAIF,UAAU,EAAE;IACdA,UAAU,CAACG,SAAS,GAAG,CAAC;;AAE5B,CAAC,CAAC;AAEF,eAAejB,MAAM"}]}