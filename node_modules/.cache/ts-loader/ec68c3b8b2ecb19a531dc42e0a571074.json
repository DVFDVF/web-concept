{"remainingRequest":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/fury-client/src/games/limbo/game/Roll.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/src/games/limbo/game/Roll.ts","mtime":1716171553011},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgVXBkYXRlciB9IGZyb20gJ0AvbWFuYWdlci9GcmFtZU1hbmFnZXInOwppbXBvcnQgeyBGSVJFX0RVUkFUSU9OLCBST0xMX0RFTEFZIH0gZnJvbSAnLi9wcmVzZXQnOwpleHBvcnQgZGVmYXVsdCBjbGFzcyBSb2xsIGV4dGVuZHMgVXBkYXRlciB7CiAgY29uc3RydWN0b3IoY29udGFpbmVyKSB7CiAgICBzdXBlcigpOwogICAgdGhpcy5zcGFuID0gMDsKICAgIHRoaXMuY3VycmVudFZhbHVlID0gMDsKICAgIHRoaXMudGFyZ2V0ID0gMDsKICAgIHRoaXMudGhyZXNob2xkID0gMDsKICAgIHRoaXMuZHVyYXRpb24gPSBGSVJFX0RVUkFUSU9OIC0gUk9MTF9ERUxBWTsKICAgIHRoaXMudGV4dERpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOwogICAgdGhpcy50ZXh0RGl2LmNsYXNzTmFtZSA9ICd2YWx1ZS1zaG93ZXInOwogICAgdGhpcy50ZXh0RGl2LnN0eWxlLmNvbG9yID0gJyNmZmYnOwogICAgdGhpcy50ZXh0RGl2LnRleHRDb250ZW50ID0gJzEuMDB4JzsKICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLnRleHREaXYpOwogIH0KICB1cGRhdGUoZXN0KSB7CiAgICBzdXBlci51cGRhdGUoZXN0KTsKICAgIGlmICh0aGlzLmVzcFRpbWUgPiB0aGlzLmR1cmF0aW9uKSB7CiAgICAgIHRoaXMuY3VycmVudFZhbHVlID0gdGhpcy50YXJnZXQ7CiAgICAgIHRoaXMudW5yZWdpc3RlcigpOwogICAgICBpZiAodGhpcy50aHJlc2hvbGQgPD0gdGhpcy5jdXJyZW50VmFsdWUpIHsKICAgICAgICB0aGlzLnRleHREaXYuc3R5bGUuY29sb3IgPSAnIzBmMCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50ZXh0RGl2LnN0eWxlLmNvbG9yID0gJyNmMDAnOwogICAgICB9CiAgICB9IGVsc2UgewogICAgICB0aGlzLmN1cnJlbnRWYWx1ZSArPSB0aGlzLnNwYW4gKiBlc3Q7CiAgICB9CiAgICB0aGlzLnRleHREaXYudGV4dENvbnRlbnQgPSBgJHt0aGlzLmN1cnJlbnRWYWx1ZS50b0ZpeGVkKDIpfXhgOwogIH0KICByb2xsVG8odmFsdWUsIHRocmVzaG9sZCkgewogICAgdGhpcy5jdXJyZW50VmFsdWUgPSAwOwogICAgdGhpcy5zcGFuID0gdmFsdWUgLyB0aGlzLmR1cmF0aW9uOwogICAgdGhpcy50YXJnZXQgPSB2YWx1ZTsKICAgIHRoaXMudGhyZXNob2xkID0gdGhyZXNob2xkOwogICAgdGhpcy50ZXh0RGl2LnN0eWxlLmNvbG9yID0gJyNmZmYnOwogICAgdGhpcy5yZWdpc3RlcigpOwogIH0KICBkaXNwbGF5KHZhbHVlLCB0aHJlc2hvbGQpIHsKICAgIHRoaXMudGFyZ2V0ID0gdmFsdWU7CiAgICB0aGlzLnRocmVzaG9sZCA9IHRocmVzaG9sZDsKICAgIHRoaXMudGV4dERpdi50ZXh0Q29udGVudCA9IGAke3RoaXMuY3VycmVudFZhbHVlLnRvRml4ZWQoMil9eGA7CiAgICBpZiAodGhpcy50aHJlc2hvbGQgPD0gdGhpcy5jdXJyZW50VmFsdWUpIHsKICAgICAgdGhpcy50ZXh0RGl2LnN0eWxlLmNvbG9yID0gJyMwZjAnOwogICAgfSBlbHNlIHsKICAgICAgdGhpcy50ZXh0RGl2LnN0eWxlLmNvbG9yID0gJyNmMDAnOwogICAgfQogIH0KfQ=="},{"version":3,"names":["Updater","FIRE_DURATION","ROLL_DELAY","Roll","constructor","container","span","currentValue","target","threshold","duration","textDiv","document","createElement","className","style","color","textContent","appendChild","update","est","espTime","unregister","toFixed","rollTo","value","register","display"],"sources":["/Users/nuomi/Desktop/项目/concept/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/concept/fury-client/src/games/limbo/game/Roll.ts"],"sourcesContent":["import { Updater } from '@/manager/FrameManager';\nimport { FIRE_DURATION, ROLL_DELAY } from './preset';\n\nexport default class Roll extends Updater {\n  private textDiv: HTMLDivElement;\n  private span = 0;\n  private currentValue = 0;\n  private target = 0;\n  private threshold = 0;\n\n  private duration = FIRE_DURATION - ROLL_DELAY;\n\n  constructor(container: HTMLElement) {\n    super();\n    this.textDiv = document.createElement('div');\n    this.textDiv.className = 'value-shower';\n    this.textDiv.style.color = '#fff';\n    this.textDiv.textContent = '1.00x';\n    container.appendChild(this.textDiv);\n  }\n  update(est: number): void {\n    super.update(est);\n    if (this.espTime > this.duration) {\n      this.currentValue = this.target;\n      this.unregister();\n      if (this.threshold <= this.currentValue) {\n        this.textDiv.style.color = '#0f0';\n      } else {\n        this.textDiv.style.color = '#f00';\n      }\n    } else {\n      this.currentValue += this.span * est;\n    }\n    this.textDiv.textContent = `${this.currentValue.toFixed(2)}x`;\n  }\n  rollTo(value: number, threshold: number) {\n    this.currentValue = 0;\n    this.span = value / this.duration;\n    this.target = value;\n    this.threshold = threshold;\n    this.textDiv.style.color = '#fff';\n    this.register();\n  }\n  display(value: number, threshold: number) {\n    this.target = value;\n    this.threshold = threshold;\n    this.textDiv.textContent = `${this.currentValue.toFixed(2)}x`;\n    if (this.threshold <= this.currentValue) {\n      this.textDiv.style.color = '#0f0';\n    } else {\n      this.textDiv.style.color = '#f00';\n    }\n  }\n}\n"],"mappings":"AAAA,SAASA,OAAO,QAAQ,wBAAwB;AAChD,SAASC,aAAa,EAAEC,UAAU,QAAQ,UAAU;AAEpD,eAAc,MAAOC,IAAK,SAAQH,OAAO;EASvCI,YAAYC,SAAsB;IAChC,KAAK,EAAE;IARD,KAAAC,IAAI,GAAG,CAAC;IACR,KAAAC,YAAY,GAAG,CAAC;IAChB,KAAAC,MAAM,GAAG,CAAC;IACV,KAAAC,SAAS,GAAG,CAAC;IAEb,KAAAC,QAAQ,GAAGT,aAAa,GAAGC,UAAU;IAI3C,IAAI,CAACS,OAAO,GAAGC,QAAQ,CAACC,aAAa,CAAC,KAAK,CAAC;IAC5C,IAAI,CAACF,OAAO,CAACG,SAAS,GAAG,cAAc;IACvC,IAAI,CAACH,OAAO,CAACI,KAAK,CAACC,KAAK,GAAG,MAAM;IACjC,IAAI,CAACL,OAAO,CAACM,WAAW,GAAG,OAAO;IAClCZ,SAAS,CAACa,WAAW,CAAC,IAAI,CAACP,OAAO,CAAC;EACrC;EACAQ,MAAMA,CAACC,GAAW;IAChB,KAAK,CAACD,MAAM,CAACC,GAAG,CAAC;IACjB,IAAI,IAAI,CAACC,OAAO,GAAG,IAAI,CAACX,QAAQ,EAAE;MAChC,IAAI,CAACH,YAAY,GAAG,IAAI,CAACC,MAAM;MAC/B,IAAI,CAACc,UAAU,EAAE;MACjB,IAAI,IAAI,CAACb,SAAS,IAAI,IAAI,CAACF,YAAY,EAAE;QACvC,IAAI,CAACI,OAAO,CAACI,KAAK,CAACC,KAAK,GAAG,MAAM;OAClC,MAAM;QACL,IAAI,CAACL,OAAO,CAACI,KAAK,CAACC,KAAK,GAAG,MAAM;;KAEpC,MAAM;MACL,IAAI,CAACT,YAAY,IAAI,IAAI,CAACD,IAAI,GAAGc,GAAG;;IAEtC,IAAI,CAACT,OAAO,CAACM,WAAW,GAAG,GAAG,IAAI,CAACV,YAAY,CAACgB,OAAO,CAAC,CAAC,CAAC,GAAG;EAC/D;EACAC,MAAMA,CAACC,KAAa,EAAEhB,SAAiB;IACrC,IAAI,CAACF,YAAY,GAAG,CAAC;IACrB,IAAI,CAACD,IAAI,GAAGmB,KAAK,GAAG,IAAI,CAACf,QAAQ;IACjC,IAAI,CAACF,MAAM,GAAGiB,KAAK;IACnB,IAAI,CAAChB,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACE,OAAO,CAACI,KAAK,CAACC,KAAK,GAAG,MAAM;IACjC,IAAI,CAACU,QAAQ,EAAE;EACjB;EACAC,OAAOA,CAACF,KAAa,EAAEhB,SAAiB;IACtC,IAAI,CAACD,MAAM,GAAGiB,KAAK;IACnB,IAAI,CAAChB,SAAS,GAAGA,SAAS;IAC1B,IAAI,CAACE,OAAO,CAACM,WAAW,GAAG,GAAG,IAAI,CAACV,YAAY,CAACgB,OAAO,CAAC,CAAC,CAAC,GAAG;IAC7D,IAAI,IAAI,CAACd,SAAS,IAAI,IAAI,CAACF,YAAY,EAAE;MACvC,IAAI,CAACI,OAAO,CAACI,KAAK,CAACC,KAAK,GAAG,MAAM;KAClC,MAAM;MACL,IAAI,CAACL,OAAO,CAACI,KAAK,CAACC,KAAK,GAAG,MAAM;;EAErC"}]}