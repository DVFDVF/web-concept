{"remainingRequest":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js??ref--15-2!/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/components/SizeObserver.ts","dependencies":[{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/src/components/SizeObserver.ts","mtime":1716171553008},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/babel.config.js","mtime":1716171552917},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/cache-loader/dist/cjs.js","mtime":1716171608994},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/babel-loader/lib/index.js","mtime":1716171609486},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/ts-loader/index.js","mtime":1716171609531},{"path":"/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js","mtime":1716171609105}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:LyoqCiAqIOebkeWQrOWuueWZqOWuvemrmAogKi8KZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2l6ZU9ic2VydmVyIHsKICAvKioKICAgKiBAcGFyYW0gb25DaGFuZ2Ug5a696auY5Y+Y5YyW55qE5Zue6LCD77yM5Y+v5Lul55SobmV3U2l6ZeWGheeahOWAvOWBmuinhuWbvuS4iueahOWPmOabtAogICAqLwogIGNvbnN0cnVjdG9yKG9uQ2hhbmdlKSB7CiAgICB0aGlzLm9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKGVudHJpZXMgPT4gewogICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGVudHJpZXMpIHsKICAgICAgICBjb25zdCByZWN0ID0gZW50cnkuY29udGVudFJlY3Q7CiAgICAgICAgaWYgKCFyZWN0LndpZHRoKSByZXR1cm47CiAgICAgICAgaWYgKHJlY3Qud2lkdGggIT09IHRoaXMubGFzdFNpemUud2lkdGggfHwgcmVjdC5oZWlnaHQgIT09IHRoaXMubGFzdFNpemUuaGVpZ2h0KSB7CiAgICAgICAgICBjb25zdCBuZXdTaXplID0gewogICAgICAgICAgICB3aWR0aDogcmVjdC53aWR0aCwKICAgICAgICAgICAgaGVpZ2h0OiByZWN0LmhlaWdodAogICAgICAgICAgfTsKICAgICAgICAgIG9uQ2hhbmdlKG5ld1NpemUsIHRoaXMubGFzdFNpemUpOwogICAgICAgICAgdGhpcy5sYXN0U2l6ZSA9IG5ld1NpemU7CiAgICAgICAgfQogICAgICB9CiAgICB9KTsKICB9CiAgLyoq55uR5ZCs5a696auY5Y+Y5YyW77yM5aaC5p6c55uR5ZCs55qE5piv5paw55qE5YWD57Sg77yM5Lya6Ieq5Yqo5Y+W5raI5Lul5YmN55qE55uR5ZCsICovCiAgb2JzZXJ2ZShlbGVtZW50KSB7CiAgICBpZiAodGhpcy50YXJnZXQgPT09IGVsZW1lbnQpIHsKICAgICAgcmV0dXJuOwogICAgfQogICAgaWYgKHRoaXMudGFyZ2V0KSB7CiAgICAgIHRoaXMub2JzZXJ2ZXIudW5vYnNlcnZlKHRoaXMudGFyZ2V0KTsKICAgIH0KICAgIHRoaXMudGFyZ2V0ID0gZWxlbWVudDsKICAgIGlmICh0aGlzLnRhcmdldCkgewogICAgICB0aGlzLmxhc3RTaXplID0gewogICAgICAgIHdpZHRoOiB0aGlzLnRhcmdldC5vZmZzZXRXaWR0aCwKICAgICAgICBoZWlnaHQ6IHRoaXMudGFyZ2V0Lm9mZnNldEhlaWdodAogICAgICB9OwogICAgICB0aGlzLm9ic2VydmVyLm9ic2VydmUodGhpcy50YXJnZXQpOwogICAgfQogIH0KICB1bm9ic2VydmUoKSB7CiAgICBpZiAodGhpcy50YXJnZXQpIHsKICAgICAgdGhpcy5vYnNlcnZlci51bm9ic2VydmUodGhpcy50YXJnZXQpOwogICAgfQogICAgdGhpcy50YXJnZXQgPSB1bmRlZmluZWQ7CiAgfQp9"},{"version":3,"names":["SizeObserver","constructor","onChange","observer","ResizeObserver","entries","entry","rect","contentRect","width","lastSize","height","newSize","observe","element","target","unobserve","offsetWidth","offsetHeight","undefined"],"sources":["/Users/nuomi/Desktop/项目/fury-client/fury-client/node_modules/eslint-loader/index.js??ref--14-0!/Users/nuomi/Desktop/项目/fury-client/fury-client/src/components/SizeObserver.ts"],"sourcesContent":["export interface Size {\n  width: number;\n  height: number;\n}\n/**\n * 监听容器宽高\n */\nexport default class SizeObserver {\n  private target?: HTMLElement;\n  private observer: ResizeObserver;\n  private lastSize!: Size;\n  /**\n   * @param onChange 宽高变化的回调，可以用newSize内的值做视图上的变更\n   */\n  constructor(onChange: (newSize: Size, oldSize: Size) => void) {\n    this.observer = new ResizeObserver((entries) => {\n      for (const entry of entries) {\n        const rect = entry.contentRect;\n        if (!rect.width) return;\n        if (\n          rect.width !== this.lastSize.width ||\n          rect.height !== this.lastSize.height\n        ) {\n          const newSize: Size = { width: rect.width, height: rect.height };\n          onChange(newSize, this.lastSize);\n          this.lastSize = newSize;\n        }\n      }\n    });\n  }\n  /**监听宽高变化，如果监听的是新的元素，会自动取消以前的监听 */\n  observe(element?: HTMLElement) {\n    if (this.target === element) {\n      return;\n    }\n    if (this.target) {\n      this.observer.unobserve(this.target);\n    }\n    this.target = element;\n    if (this.target) {\n      this.lastSize = {\n        width: this.target.offsetWidth,\n        height: this.target.offsetHeight,\n      };\n      this.observer.observe(this.target);\n    }\n  }\n  unobserve() {\n    if (this.target) {\n      this.observer.unobserve(this.target);\n    }\n    this.target = undefined;\n  }\n}\n"],"mappings":"AAIA;;;AAGA,eAAc,MAAOA,YAAY;EAI/B;;;EAGAC,YAAYC,QAAgD;IAC1D,IAAI,CAACC,QAAQ,GAAG,IAAIC,cAAc,CAAEC,OAAO,IAAI;MAC7C,KAAK,MAAMC,KAAK,IAAID,OAAO,EAAE;QAC3B,MAAME,IAAI,GAAGD,KAAK,CAACE,WAAW;QAC9B,IAAI,CAACD,IAAI,CAACE,KAAK,EAAE;QACjB,IACEF,IAAI,CAACE,KAAK,KAAK,IAAI,CAACC,QAAQ,CAACD,KAAK,IAClCF,IAAI,CAACI,MAAM,KAAK,IAAI,CAACD,QAAQ,CAACC,MAAM,EACpC;UACA,MAAMC,OAAO,GAAS;YAAEH,KAAK,EAAEF,IAAI,CAACE,KAAK;YAAEE,MAAM,EAAEJ,IAAI,CAACI;UAAM,CAAE;UAChET,QAAQ,CAACU,OAAO,EAAE,IAAI,CAACF,QAAQ,CAAC;UAChC,IAAI,CAACA,QAAQ,GAAGE,OAAO;;;IAG7B,CAAC,CAAC;EACJ;EACA;EACAC,OAAOA,CAACC,OAAqB;IAC3B,IAAI,IAAI,CAACC,MAAM,KAAKD,OAAO,EAAE;MAC3B;;IAEF,IAAI,IAAI,CAACC,MAAM,EAAE;MACf,IAAI,CAACZ,QAAQ,CAACa,SAAS,CAAC,IAAI,CAACD,MAAM,CAAC;;IAEtC,IAAI,CAACA,MAAM,GAAGD,OAAO;IACrB,IAAI,IAAI,CAACC,MAAM,EAAE;MACf,IAAI,CAACL,QAAQ,GAAG;QACdD,KAAK,EAAE,IAAI,CAACM,MAAM,CAACE,WAAW;QAC9BN,MAAM,EAAE,IAAI,CAACI,MAAM,CAACG;OACrB;MACD,IAAI,CAACf,QAAQ,CAACU,OAAO,CAAC,IAAI,CAACE,MAAM,CAAC;;EAEtC;EACAC,SAASA,CAAA;IACP,IAAI,IAAI,CAACD,MAAM,EAAE;MACf,IAAI,CAACZ,QAAQ,CAACa,SAAS,CAAC,IAAI,CAACD,MAAM,CAAC;;IAEtC,IAAI,CAACA,MAAM,GAAGI,SAAS;EACzB"}]}